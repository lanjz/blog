<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VUE-SSR | Hello Wold</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/lanjz/assets/css/0.styles.5dda244b.css" as="style"><link rel="preload" href="/lanjz/assets/js/app.6e704d34.js" as="script"><link rel="preload" href="/lanjz/assets/js/2.1da27f72.js" as="script"><link rel="preload" href="/lanjz/assets/js/154.278dd821.js" as="script"><link rel="prefetch" href="/lanjz/assets/js/10.9a81d67e.js"><link rel="prefetch" href="/lanjz/assets/js/100.f390adff.js"><link rel="prefetch" href="/lanjz/assets/js/101.ef85e642.js"><link rel="prefetch" href="/lanjz/assets/js/102.67a3d0c8.js"><link rel="prefetch" href="/lanjz/assets/js/103.fcf49e56.js"><link rel="prefetch" href="/lanjz/assets/js/104.ca667ea0.js"><link rel="prefetch" href="/lanjz/assets/js/105.72243284.js"><link rel="prefetch" href="/lanjz/assets/js/106.f568569d.js"><link rel="prefetch" href="/lanjz/assets/js/107.1ba3e674.js"><link rel="prefetch" href="/lanjz/assets/js/108.0914f7ef.js"><link rel="prefetch" href="/lanjz/assets/js/109.b70bc66a.js"><link rel="prefetch" href="/lanjz/assets/js/11.d9991cd5.js"><link rel="prefetch" href="/lanjz/assets/js/110.dc65c9cb.js"><link rel="prefetch" href="/lanjz/assets/js/111.bed853f2.js"><link rel="prefetch" href="/lanjz/assets/js/112.e77a9af2.js"><link rel="prefetch" href="/lanjz/assets/js/113.1001a625.js"><link rel="prefetch" href="/lanjz/assets/js/114.a6131f5c.js"><link rel="prefetch" href="/lanjz/assets/js/115.78c2043b.js"><link rel="prefetch" href="/lanjz/assets/js/116.94d861a8.js"><link rel="prefetch" href="/lanjz/assets/js/117.6d1df4a9.js"><link rel="prefetch" href="/lanjz/assets/js/118.698fc44b.js"><link rel="prefetch" href="/lanjz/assets/js/119.7ac11e50.js"><link rel="prefetch" href="/lanjz/assets/js/12.ac43ba24.js"><link rel="prefetch" href="/lanjz/assets/js/120.07b8e034.js"><link rel="prefetch" href="/lanjz/assets/js/121.e961d419.js"><link rel="prefetch" href="/lanjz/assets/js/122.a105994f.js"><link rel="prefetch" href="/lanjz/assets/js/123.afcd2342.js"><link rel="prefetch" href="/lanjz/assets/js/124.012432e6.js"><link rel="prefetch" href="/lanjz/assets/js/125.05d5b9d2.js"><link rel="prefetch" href="/lanjz/assets/js/126.5d4de860.js"><link rel="prefetch" href="/lanjz/assets/js/127.0222fc7a.js"><link rel="prefetch" href="/lanjz/assets/js/128.7600427e.js"><link rel="prefetch" href="/lanjz/assets/js/129.32f47d84.js"><link rel="prefetch" href="/lanjz/assets/js/13.2a39c7df.js"><link rel="prefetch" href="/lanjz/assets/js/130.980796f5.js"><link rel="prefetch" href="/lanjz/assets/js/131.457fa2b4.js"><link rel="prefetch" href="/lanjz/assets/js/132.f063118d.js"><link rel="prefetch" href="/lanjz/assets/js/133.516fb83a.js"><link rel="prefetch" href="/lanjz/assets/js/134.435ed2b7.js"><link rel="prefetch" href="/lanjz/assets/js/135.8fb3f8b3.js"><link rel="prefetch" href="/lanjz/assets/js/136.1eb4eb59.js"><link rel="prefetch" href="/lanjz/assets/js/137.f4b44055.js"><link rel="prefetch" href="/lanjz/assets/js/138.4be4bbe4.js"><link rel="prefetch" href="/lanjz/assets/js/139.ac20aea5.js"><link rel="prefetch" href="/lanjz/assets/js/14.5bb503b7.js"><link rel="prefetch" href="/lanjz/assets/js/140.d5c872fd.js"><link rel="prefetch" href="/lanjz/assets/js/141.1c3c293d.js"><link rel="prefetch" href="/lanjz/assets/js/142.8181e886.js"><link rel="prefetch" href="/lanjz/assets/js/143.2b048744.js"><link rel="prefetch" href="/lanjz/assets/js/144.f13a8b8a.js"><link rel="prefetch" href="/lanjz/assets/js/145.2a07d34d.js"><link rel="prefetch" href="/lanjz/assets/js/146.d46306e2.js"><link rel="prefetch" href="/lanjz/assets/js/147.97fa63ee.js"><link rel="prefetch" href="/lanjz/assets/js/148.c6c96e32.js"><link rel="prefetch" href="/lanjz/assets/js/149.255c22fa.js"><link rel="prefetch" href="/lanjz/assets/js/15.76609c51.js"><link rel="prefetch" href="/lanjz/assets/js/150.85289c04.js"><link rel="prefetch" href="/lanjz/assets/js/151.b7609d2a.js"><link rel="prefetch" href="/lanjz/assets/js/152.0d39c9a7.js"><link rel="prefetch" href="/lanjz/assets/js/153.6d5d8506.js"><link rel="prefetch" href="/lanjz/assets/js/155.c33208bc.js"><link rel="prefetch" href="/lanjz/assets/js/156.75ce130e.js"><link rel="prefetch" href="/lanjz/assets/js/157.72fa8b28.js"><link rel="prefetch" href="/lanjz/assets/js/158.04ab2a6c.js"><link rel="prefetch" href="/lanjz/assets/js/159.50cc0b72.js"><link rel="prefetch" href="/lanjz/assets/js/16.e410fdf4.js"><link rel="prefetch" href="/lanjz/assets/js/160.e1a276c9.js"><link rel="prefetch" href="/lanjz/assets/js/161.39014cfa.js"><link rel="prefetch" href="/lanjz/assets/js/162.0cb7c318.js"><link rel="prefetch" href="/lanjz/assets/js/163.0a85ac59.js"><link rel="prefetch" href="/lanjz/assets/js/164.a5f0f585.js"><link rel="prefetch" href="/lanjz/assets/js/165.cacfa90f.js"><link rel="prefetch" href="/lanjz/assets/js/166.8f776896.js"><link rel="prefetch" href="/lanjz/assets/js/167.e5234007.js"><link rel="prefetch" href="/lanjz/assets/js/168.0cfaae74.js"><link rel="prefetch" href="/lanjz/assets/js/169.61176d89.js"><link rel="prefetch" href="/lanjz/assets/js/17.84314d1e.js"><link rel="prefetch" href="/lanjz/assets/js/170.a4619dd5.js"><link rel="prefetch" href="/lanjz/assets/js/171.fc1eba8a.js"><link rel="prefetch" href="/lanjz/assets/js/172.9ea74e3d.js"><link rel="prefetch" href="/lanjz/assets/js/173.da4a3c30.js"><link rel="prefetch" href="/lanjz/assets/js/174.33e093c2.js"><link rel="prefetch" href="/lanjz/assets/js/175.6a867c82.js"><link rel="prefetch" href="/lanjz/assets/js/176.06d440d1.js"><link rel="prefetch" href="/lanjz/assets/js/177.8d4788e0.js"><link rel="prefetch" href="/lanjz/assets/js/178.409ef27a.js"><link rel="prefetch" href="/lanjz/assets/js/179.b7382bf6.js"><link rel="prefetch" href="/lanjz/assets/js/18.59092c66.js"><link rel="prefetch" href="/lanjz/assets/js/180.36dab64d.js"><link rel="prefetch" href="/lanjz/assets/js/181.08dc628e.js"><link rel="prefetch" href="/lanjz/assets/js/182.957ac2be.js"><link rel="prefetch" href="/lanjz/assets/js/183.26e19b9f.js"><link rel="prefetch" href="/lanjz/assets/js/184.5aa82aea.js"><link rel="prefetch" href="/lanjz/assets/js/185.ab85abdf.js"><link rel="prefetch" href="/lanjz/assets/js/186.d20e2a24.js"><link rel="prefetch" href="/lanjz/assets/js/187.4cbc4374.js"><link rel="prefetch" href="/lanjz/assets/js/188.eb969d2e.js"><link rel="prefetch" href="/lanjz/assets/js/189.a8fd79ef.js"><link rel="prefetch" href="/lanjz/assets/js/19.06f220fd.js"><link rel="prefetch" href="/lanjz/assets/js/190.18209d28.js"><link rel="prefetch" href="/lanjz/assets/js/191.6517e931.js"><link rel="prefetch" href="/lanjz/assets/js/192.743e1d7a.js"><link rel="prefetch" href="/lanjz/assets/js/193.f0f7d682.js"><link rel="prefetch" href="/lanjz/assets/js/194.cacf5dd6.js"><link rel="prefetch" href="/lanjz/assets/js/195.cf202c42.js"><link rel="prefetch" href="/lanjz/assets/js/196.13b04e09.js"><link rel="prefetch" href="/lanjz/assets/js/197.02e2b4ec.js"><link rel="prefetch" href="/lanjz/assets/js/198.982b6c3c.js"><link rel="prefetch" href="/lanjz/assets/js/199.d2c2b4f6.js"><link rel="prefetch" href="/lanjz/assets/js/20.81929096.js"><link rel="prefetch" href="/lanjz/assets/js/200.d8aca290.js"><link rel="prefetch" href="/lanjz/assets/js/201.49433b14.js"><link rel="prefetch" href="/lanjz/assets/js/202.24286650.js"><link rel="prefetch" href="/lanjz/assets/js/203.f0432151.js"><link rel="prefetch" href="/lanjz/assets/js/204.7291ba4a.js"><link rel="prefetch" href="/lanjz/assets/js/205.41ff524d.js"><link rel="prefetch" href="/lanjz/assets/js/206.83437f3a.js"><link rel="prefetch" href="/lanjz/assets/js/207.1cc0f451.js"><link rel="prefetch" href="/lanjz/assets/js/208.0e70e084.js"><link rel="prefetch" href="/lanjz/assets/js/209.72044390.js"><link rel="prefetch" href="/lanjz/assets/js/21.6cf9e27e.js"><link rel="prefetch" href="/lanjz/assets/js/22.e4b09684.js"><link rel="prefetch" href="/lanjz/assets/js/23.248757c5.js"><link rel="prefetch" href="/lanjz/assets/js/24.9b8e9621.js"><link rel="prefetch" href="/lanjz/assets/js/25.36a45c92.js"><link rel="prefetch" href="/lanjz/assets/js/26.ebfb9a10.js"><link rel="prefetch" href="/lanjz/assets/js/27.df622e9f.js"><link rel="prefetch" href="/lanjz/assets/js/28.9a3ccc6c.js"><link rel="prefetch" href="/lanjz/assets/js/29.64300353.js"><link rel="prefetch" href="/lanjz/assets/js/3.2fdab89d.js"><link rel="prefetch" href="/lanjz/assets/js/30.85649eaf.js"><link rel="prefetch" href="/lanjz/assets/js/31.1fd41c15.js"><link rel="prefetch" href="/lanjz/assets/js/32.075d1cbb.js"><link rel="prefetch" href="/lanjz/assets/js/33.a8cdd9ac.js"><link rel="prefetch" href="/lanjz/assets/js/34.3cb9f560.js"><link rel="prefetch" href="/lanjz/assets/js/35.607c4b6c.js"><link rel="prefetch" href="/lanjz/assets/js/36.468c8309.js"><link rel="prefetch" href="/lanjz/assets/js/37.d3c026f7.js"><link rel="prefetch" href="/lanjz/assets/js/38.1466f9a4.js"><link rel="prefetch" href="/lanjz/assets/js/39.ae25b9c1.js"><link rel="prefetch" href="/lanjz/assets/js/4.6ce5fdee.js"><link rel="prefetch" href="/lanjz/assets/js/40.85dba979.js"><link rel="prefetch" href="/lanjz/assets/js/41.2b5cda00.js"><link rel="prefetch" href="/lanjz/assets/js/42.d43ac909.js"><link rel="prefetch" href="/lanjz/assets/js/43.4391550b.js"><link rel="prefetch" href="/lanjz/assets/js/44.4f3e631c.js"><link rel="prefetch" href="/lanjz/assets/js/45.26607430.js"><link rel="prefetch" href="/lanjz/assets/js/46.ac58ba19.js"><link rel="prefetch" href="/lanjz/assets/js/47.80cdfe33.js"><link rel="prefetch" href="/lanjz/assets/js/48.4beb161d.js"><link rel="prefetch" href="/lanjz/assets/js/49.0ed08b40.js"><link rel="prefetch" href="/lanjz/assets/js/5.6c7bc1be.js"><link rel="prefetch" href="/lanjz/assets/js/50.ccc7ed6a.js"><link rel="prefetch" href="/lanjz/assets/js/51.39025cc3.js"><link rel="prefetch" href="/lanjz/assets/js/52.f9ded128.js"><link rel="prefetch" href="/lanjz/assets/js/53.22209c7d.js"><link rel="prefetch" href="/lanjz/assets/js/54.8f57f6bd.js"><link rel="prefetch" href="/lanjz/assets/js/55.7c309ebc.js"><link rel="prefetch" href="/lanjz/assets/js/56.7a121295.js"><link rel="prefetch" href="/lanjz/assets/js/57.b89feaab.js"><link rel="prefetch" href="/lanjz/assets/js/58.ee2c35fb.js"><link rel="prefetch" href="/lanjz/assets/js/59.4f826ab9.js"><link rel="prefetch" href="/lanjz/assets/js/6.622d1d2d.js"><link rel="prefetch" href="/lanjz/assets/js/60.4cc3d3d8.js"><link rel="prefetch" href="/lanjz/assets/js/61.b800569b.js"><link rel="prefetch" href="/lanjz/assets/js/62.0d48fa49.js"><link rel="prefetch" href="/lanjz/assets/js/63.d9cb28e5.js"><link rel="prefetch" href="/lanjz/assets/js/64.0e11e5d0.js"><link rel="prefetch" href="/lanjz/assets/js/65.ad157dee.js"><link rel="prefetch" href="/lanjz/assets/js/66.04abfa5c.js"><link rel="prefetch" href="/lanjz/assets/js/67.a4258394.js"><link rel="prefetch" href="/lanjz/assets/js/68.ebc3e1e1.js"><link rel="prefetch" href="/lanjz/assets/js/69.103f462e.js"><link rel="prefetch" href="/lanjz/assets/js/7.79f984e9.js"><link rel="prefetch" href="/lanjz/assets/js/70.96942b5e.js"><link rel="prefetch" href="/lanjz/assets/js/71.f5c2459a.js"><link rel="prefetch" href="/lanjz/assets/js/72.72b34930.js"><link rel="prefetch" href="/lanjz/assets/js/73.fe33e382.js"><link rel="prefetch" href="/lanjz/assets/js/74.424c6bbb.js"><link rel="prefetch" href="/lanjz/assets/js/75.7d255bac.js"><link rel="prefetch" href="/lanjz/assets/js/76.db3dbbb8.js"><link rel="prefetch" href="/lanjz/assets/js/77.7d912c17.js"><link rel="prefetch" href="/lanjz/assets/js/78.5c4963d5.js"><link rel="prefetch" href="/lanjz/assets/js/79.04956c4f.js"><link rel="prefetch" href="/lanjz/assets/js/8.d74f6252.js"><link rel="prefetch" href="/lanjz/assets/js/80.fdd5e955.js"><link rel="prefetch" href="/lanjz/assets/js/81.b8662c58.js"><link rel="prefetch" href="/lanjz/assets/js/82.8e6c9c7b.js"><link rel="prefetch" href="/lanjz/assets/js/83.b16941c5.js"><link rel="prefetch" href="/lanjz/assets/js/84.76b08dc3.js"><link rel="prefetch" href="/lanjz/assets/js/85.5b836d37.js"><link rel="prefetch" href="/lanjz/assets/js/86.95119094.js"><link rel="prefetch" href="/lanjz/assets/js/87.fc416e77.js"><link rel="prefetch" href="/lanjz/assets/js/88.274e5843.js"><link rel="prefetch" href="/lanjz/assets/js/89.ca5822bf.js"><link rel="prefetch" href="/lanjz/assets/js/9.a5f68e94.js"><link rel="prefetch" href="/lanjz/assets/js/90.bf90b6e8.js"><link rel="prefetch" href="/lanjz/assets/js/91.a83bbc44.js"><link rel="prefetch" href="/lanjz/assets/js/92.74a54da8.js"><link rel="prefetch" href="/lanjz/assets/js/93.38a0255b.js"><link rel="prefetch" href="/lanjz/assets/js/94.46b8f37a.js"><link rel="prefetch" href="/lanjz/assets/js/95.808e6a5d.js"><link rel="prefetch" href="/lanjz/assets/js/96.cd9967ee.js"><link rel="prefetch" href="/lanjz/assets/js/97.b63de440.js"><link rel="prefetch" href="/lanjz/assets/js/98.56dec2c9.js"><link rel="prefetch" href="/lanjz/assets/js/99.c2f1fe0a.js">
    <link rel="stylesheet" href="/lanjz/assets/css/0.styles.5dda244b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/lanjz/" class="home-link router-link-active"><!----> <span class="site-name">Hello Wold</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/lanjz/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/ES6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Browser/" class="nav-link">
  Browser
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络&amp;算法" class="dropdown-title"><span class="title">网络&amp;算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="网络&amp;算法" class="mobile-dropdown-title"><span class="title">网络&amp;算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/secure/" class="nav-link">
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/Vue/" class="nav-link router-link-active">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/qiankun/" class="nav-link">
  qiankun
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/NA/" class="nav-link">
  跨平台
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node" class="dropdown-title"><span class="title">Node</span> <span class="arrow down"></span></button> <button type="button" aria-label="Node" class="mobile-dropdown-title"><span class="title">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/Node/基础/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Package/" class="nav-link">
  yarn&amp;npm
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Vite/" class="nav-link">
  Vite
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/数据库/" class="nav-link">
  SQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/工程化/前端优化总结/" class="nav-link">
  前端优化总结
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/系统设计/" class="nav-link">
  系统设计
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/预加载&amp;预解析.html" class="nav-link">
  预加载&amp;预解析
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/重构改善既有代码的设计.html" class="nav-link">
  重构代码原则
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/开发与调试技巧.html" class="nav-link">
  开发与调试
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/组件设计的基本原则.html" class="nav-link">
  组件设计
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/公共模块管理.html" class="nav-link">
  公共模块管理
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/内存泄漏.html" class="nav-link">
  内存泄漏
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/前端异常捕获.html" class="nav-link">
  前端异常捕获
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/自动化部署.html" class="nav-link">
  自动化部署
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/疑难杂症.html" class="nav-link">
  问题小计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="利其器" class="dropdown-title"><span class="title">利其器</span> <span class="arrow down"></span></button> <button type="button" aria-label="利其器" class="mobile-dropdown-title"><span class="title">利其器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/利其器/Mac.html" class="nav-link">
  Mac
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/利其器/Github.html" class="nav-link">
  Github
</a></li></ul></div></div><div class="nav-item"><a href="/lanjz/Im/" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/lanjz/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/ES6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Browser/" class="nav-link">
  Browser
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络&amp;算法" class="dropdown-title"><span class="title">网络&amp;算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="网络&amp;算法" class="mobile-dropdown-title"><span class="title">网络&amp;算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/secure/" class="nav-link">
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/Vue/" class="nav-link router-link-active">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/qiankun/" class="nav-link">
  qiankun
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/NA/" class="nav-link">
  跨平台
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node" class="dropdown-title"><span class="title">Node</span> <span class="arrow down"></span></button> <button type="button" aria-label="Node" class="mobile-dropdown-title"><span class="title">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/Node/基础/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Package/" class="nav-link">
  yarn&amp;npm
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Vite/" class="nav-link">
  Vite
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/数据库/" class="nav-link">
  SQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/工程化/前端优化总结/" class="nav-link">
  前端优化总结
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/系统设计/" class="nav-link">
  系统设计
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/预加载&amp;预解析.html" class="nav-link">
  预加载&amp;预解析
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/重构改善既有代码的设计.html" class="nav-link">
  重构代码原则
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/开发与调试技巧.html" class="nav-link">
  开发与调试
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/组件设计的基本原则.html" class="nav-link">
  组件设计
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/公共模块管理.html" class="nav-link">
  公共模块管理
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/内存泄漏.html" class="nav-link">
  内存泄漏
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/前端异常捕获.html" class="nav-link">
  前端异常捕获
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/自动化部署.html" class="nav-link">
  自动化部署
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/疑难杂症.html" class="nav-link">
  问题小计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="利其器" class="dropdown-title"><span class="title">利其器</span> <span class="arrow down"></span></button> <button type="button" aria-label="利其器" class="mobile-dropdown-title"><span class="title">利其器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/利其器/Mac.html" class="nav-link">
  Mac
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/利其器/Github.html" class="nav-link">
  Github
</a></li></ul></div></div><div class="nav-item"><a href="/lanjz/Im/" class="nav-link">
  关于我
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/lanjz/Vue/组件通信.html" class="sidebar-link">Vue 组件通信方式</a></li><li><a href="/lanjz/Vue/模板到DOM.html" class="sidebar-link">模板到真实DOM经历了什么？</a></li><li><a href="/lanjz/Vue/响应式原理.html" class="sidebar-link">响应式原理</a></li><li><a href="/lanjz/Vue/Watcher更新顺序.html" class="sidebar-link">Watcher更新顺序</a></li><li><a href="/lanjz/Vue/PatchNode.html" class="sidebar-link">组件更新机制(diff)</a></li><li><a href="/lanjz/Vue/Watch.html" class="sidebar-link">Watch</a></li><li><a href="/lanjz/Vue/Computed.html" class="sidebar-link">Computed</a></li><li><a href="/lanjz/Vue/v-model.html" class="sidebar-link">v-model</a></li><li><a href="/lanjz/Vue/$nextTick.html" class="sidebar-link">$nextTick</a></li><li><a href="/lanjz/Vue/$set.html" class="sidebar-link">$set</a></li><li><a href="/lanjz/Vue/数据代理.html" class="sidebar-link">数据代理</a></li><li><a href="/lanjz/Vue/VueRouter.html" class="sidebar-link">Vue-Router</a></li><li><a href="/lanjz/Vue/Vuex.html" class="sidebar-link">Vuex</a></li><li><a href="/lanjz/Vue/Extend.html" class="sidebar-link">Extend</a></li><li><a href="/lanjz/Vue/SSR.html" aria-current="page" class="active sidebar-link">VUE-SSR</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lanjz/Vue/SSR.html#ssr-配置总结" class="sidebar-link">SSR 配置总结</a></li><li class="sidebar-sub-header"><a href="/lanjz/Vue/SSR.html#热更新" class="sidebar-link">热更新</a></li><li class="sidebar-sub-header"><a href="/lanjz/Vue/SSR.html#q-r" class="sidebar-link">Q&amp;R</a></li></ul></li><li><a href="/lanjz/Vue/共享状态思想.html" class="sidebar-link">共享状态思想</a></li><li><a href="/lanjz/Vue/Paas应用.html" class="sidebar-link">PAAS应用</a></li><li><a href="/lanjz/Vue/吱不吱.html" class="sidebar-link">吱不吱</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-ssr"><a href="#vue-ssr" class="header-anchor">#</a> VUE-SSR</h1> <p>Vue 官方配置SSR的指南：</p> <p><a href="https://ssr.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">Vue.js 服务器端渲染指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/vuejs/vue-hackernews-2.0/" target="_blank" rel="noopener noreferrer">Vue SSR官方Demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="ssr-配置总结"><a href="#ssr-配置总结" class="header-anchor">#</a> SSR 配置总结</h2> <ul><li><p>通过 webpack 分别将 server bundle 和 client bundle 打包成特殊的 JSON 文件 <code>vue-ssr-server-bundle.json</code> 和 <code>vue-ssr-server-bundle.json</code></p></li> <li><p>使用 <code>vue-server-renderer</code> 提供一个名为 <code>createBundleRenderer</code> 的 API，处理上一步中提到的两个 JSON 文件生成 renderer</p></li> <li><p>最后通过 <code>renderer.renderToString</code> 方法生成 HTML</p></li></ul> <h2 id="热更新"><a href="#热更新" class="header-anchor">#</a> 热更新</h2> <p>要实现热更新的条件：</p> <p><strong>1. 在服务中使用 webpack 打包我们的项目</strong></p> <p>以客户端为例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> clientCompiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>clientConfig<span class="token punctuation">)</span> <span class="token comment">// clientConfig 为客户端 webpack 配置</span>
</code></pre></div><p><strong>2. 监听文件变化后自动打包，并将 webpack 打包后的文件发送给服务</strong></p> <p>这一步需要用到 <code>webpack-dev-middleware</code>，<code>webpack-dev-middleware</code> 执行结果返回一个 <code>express</code> 中间件函数，它能将 webpack 编译后的文件存储到内存中，然后在访问 express 服务时，将内存中对应的资源输出返回</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> devMiddleware <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-dev-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>clientCompiler<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  publicPath<span class="token operator">:</span> clientConfig<span class="token punctuation">.</span>output<span class="token punctuation">.</span>publicPath<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>devMiddleware<span class="token punctuation">)</span>
</code></pre></div><p><strong>3. 模块热更新</strong></p> <p>实现模块热更新需要使用到 <code>webpack-hot-middleware</code>, 在 webpack 使用时需要添加以下配置：</p> <ul><li><p>在 plugins 中增加 <code>HotModuleReplacementPlugin()</code></p></li> <li><p>在 entry 中新增 <code>webpack-hot-middleware/client</code>，将插件注入到程序中</p></li> <li><p>在 express 中加入中间件 webpack-hot-middleware</p></li> <li><p>在入口文件添加</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">// 当前可忽略</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre></div></li></ul> <p>按照上面的步骤添加配置：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在 entry 中新增 `webpack-hot-middleware/client`，将插件注入到程序中</span>
clientConfig<span class="token punctuation">.</span>entry<span class="token punctuation">.</span>app <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'webpack-hot-middleware/client'</span><span class="token punctuation">,</span> clientConfig<span class="token punctuation">.</span>entry<span class="token punctuation">.</span>app<span class="token punctuation">]</span>

<span class="token comment">// 增加 `HotModuleReplacementPlugin()` 插件</span>
clientConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token comment">// 加入中间件webpack-hot-middleware</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-hot-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>clientCompiler<span class="token punctuation">,</span> <span class="token punctuation">{</span> heartbeat<span class="token operator">:</span> <span class="token number">5000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>4. 打包完成后，重新生成 render</strong></p> <p>重新打包也就重新生成了 <code>vue-ssr-server-bundle.json</code> 文件，所以我们需要监听打包完成事件，生成新的 <code>renderer</code></p> <div class="language-js extra-class"><pre class="language-js"><code>  clientCompiler<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'done'</span><span class="token punctuation">,</span> <span class="token parameter">stats</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    stats <span class="token operator">=</span> stats<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span>
    clientManifest <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token function">readFile</span><span class="token punctuation">(</span>
      devMiddleware<span class="token punctuation">.</span>fileSystem<span class="token punctuation">,</span>
      <span class="token string">'vue-ssr-client-manifest.json'</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 生成新的render</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>上面的配置在每次更新都会重新生成新的 render ，但是除了第一次渲染需要用到以外，之后的热更新应该用不到 render , 在例子中尝试将后面的都更新都不重新生成  render 好像也没啥影响</p></div> <p>至此客户端热更新的步骤就差不多了，接下就是服务端的，在服务端的更新就比较简单，只需要听到文件变化重新生成新的 <code>vue-ssr-server-bundle.json</code> 文件就可以了，直接使用 webpack 中的 watch 配置</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// watch and update server renderer</span>
  <span class="token keyword">const</span> serverCompiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>serverConfig<span class="token punctuation">)</span>
  <span class="token keyword">const</span> mfs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MFS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  serverCompiler<span class="token punctuation">.</span>outputFileSystem <span class="token operator">=</span> mfs
  serverCompiler<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err
    stats <span class="token operator">=</span> stats<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token comment">// read bundle generated by vue-ssr-webpack-plugin</span>
    bundle <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token function">readFile</span><span class="token punctuation">(</span>mfs<span class="token punctuation">,</span> <span class="token string">'vue-ssr-server-bundle.json'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>完整的配置参考，也可以看 <a href="https://github.com/vuejs/vue-hackernews-2.0/" target="_blank" rel="noopener noreferrer">官方Demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// server.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token constant">LRU</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lru-cache'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> createBundleRenderer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-server-renderer'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> isProd <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span>
<span class="token keyword">function</span> <span class="token function">createRenderer</span> <span class="token punctuation">(</span><span class="token parameter">bundle<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">createBundleRenderer</span><span class="token punctuation">(</span>bundle<span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// for component caching</span>
    cache<span class="token operator">:</span> <span class="token constant">LRU</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      max<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
      maxAge<span class="token operator">:</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">15</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// this is only needed when vue-server-renderer is npm-linked todo</span>
    basedir<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// recommended for performance</span>
    runInNewContext<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> templatePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./server/index.template.html'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> renderer
<span class="token keyword">let</span> readyPromise
<span class="token keyword">if</span> <span class="token punctuation">(</span>isProd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// In production: create server renderer using template and built server bundle.</span>
  <span class="token comment">// The server bundle is generated by vue-ssr-webpack-plugin.</span>
  <span class="token keyword">const</span> template <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>templatePath<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> serverBundle <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../../dist/vue-ssr-server-bundle.json'</span><span class="token punctuation">)</span>
  <span class="token comment">// The client manifests are optional, but it allows the renderer</span>
  <span class="token comment">// to automatically infer preload/prefetch links and directly add &lt;script&gt;</span>
  <span class="token comment">// tags for any async chunks used during render, avoiding waterfall requests.</span>
  <span class="token keyword">const</span> clientManifest <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../../dist/vue-ssr-client-manifest.json'</span><span class="token punctuation">)</span>
  renderer <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span>serverBundle<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    template<span class="token punctuation">,</span>
    clientManifest
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// In development: setup the dev server with watch and hot-reload,</span>
  <span class="token comment">// and create a new renderer on bundle / index template update.</span>
  readyPromise <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./server/setup-dev-server'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
    app<span class="token punctuation">,</span>
    templatePath<span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token parameter">bundle<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      renderer <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span>bundle<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> s <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleError</span> <span class="token operator">=</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">404</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'404 | Page Not Found'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// Render Error Page or Redirect</span>
      res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'500 | Internal Server Error'</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">error during render : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>stack<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">'hellohello'</span><span class="token punctuation">,</span>
    meta<span class="token operator">:</span> <span class="token string">'&lt;meta charset=&quot;utf-8&quot;&gt;'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> req<span class="token punctuation">.</span>url
  <span class="token punctuation">}</span>
  renderer<span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> html</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">handleError</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isProd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">whole request: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> s<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ms</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> isProd <span class="token operator">?</span> <span class="token function-variable function">render</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  readyPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">render</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> port <span class="token operator">=</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">8088</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'启动啦啦啦啦啦啦啦'</span><span class="token punctuation">,</span> port<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p>setup-dev-server.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token constant">MFS</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'memory-fs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> chokidar <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chokidar'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> clientConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../../webpack.config/ssr-vue-client'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> serverConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../../webpack.config/ssr-vue-server'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">readFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fs<span class="token punctuation">,</span> file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> fsData <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>clientConfig<span class="token punctuation">.</span>output<span class="token punctuation">.</span>path<span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> fsData
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'readFile-e'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">setupDevServer</span> <span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> templatePath<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> bundle
  <span class="token keyword">let</span> template
  <span class="token keyword">let</span> clientManifest

  <span class="token keyword">let</span> ready
  <span class="token keyword">const</span> readyPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> ready <span class="token operator">=</span> r <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>bundle <span class="token operator">&amp;&amp;</span> clientManifest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">cb</span><span class="token punctuation">(</span>bundle<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        template<span class="token punctuation">,</span>
        clientManifest
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// read template from disk and watch</span>
  template <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>templatePath<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>
  chokidar<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>templatePath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    template <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>templatePath<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'index.html template updated.'</span><span class="token punctuation">)</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// modify client config to work with hot middleware</span>
  clientConfig<span class="token punctuation">.</span>entry<span class="token punctuation">.</span>app <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'webpack-hot-middleware/client'</span><span class="token punctuation">,</span> clientConfig<span class="token punctuation">.</span>entry<span class="token punctuation">.</span>app<span class="token punctuation">]</span>
  clientConfig<span class="token punctuation">.</span>output<span class="token punctuation">.</span>filename <span class="token operator">=</span> <span class="token string">'[name].js'</span>
  clientConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// new webpack.NoEmitOnErrorsPlugin() // 在编译出现错误时，使用 NoEmitOnErrorsPlugin 来跳过输出阶段。这样可以确保输出资源不会包含错误</span>
  <span class="token punctuation">)</span>
  <span class="token comment">// dev middleware</span>
  <span class="token keyword">const</span> clientCompiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>clientConfig<span class="token punctuation">)</span>
  <span class="token keyword">const</span> devMiddleware <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-dev-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>clientCompiler<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    publicPath<span class="token operator">:</span> clientConfig<span class="token punctuation">.</span>output<span class="token punctuation">.</span>publicPath<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>devMiddleware<span class="token punctuation">)</span>
  clientCompiler<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'done'</span><span class="token punctuation">,</span> <span class="token parameter">stats</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    stats <span class="token operator">=</span> stats<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    stats<span class="token punctuation">.</span>errors<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'stats.errors'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">)</span>
    stats<span class="token punctuation">.</span>warnings<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'stats.warnings'</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span>
    clientManifest <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token function">readFile</span><span class="token punctuation">(</span>
      devMiddleware<span class="token punctuation">.</span>fileSystem<span class="token punctuation">,</span>
      <span class="token string">'vue-ssr-client-manifest.json'</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// hot middleware</span>
  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-hot-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>clientCompiler<span class="token punctuation">,</span> <span class="token punctuation">{</span> heartbeat<span class="token operator">:</span> <span class="token number">5000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment">// watch and update server renderer</span>
  <span class="token keyword">const</span> serverCompiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>serverConfig<span class="token punctuation">)</span>
  <span class="token keyword">const</span> mfs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MFS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  serverCompiler<span class="token punctuation">.</span>outputFileSystem <span class="token operator">=</span> mfs
  serverCompiler<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err
    stats <span class="token operator">=</span> stats<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token comment">// read bundle generated by vue-ssr-webpack-plugin</span>
    bundle <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token function">readFile</span><span class="token punctuation">(</span>mfs<span class="token punctuation">,</span> <span class="token string">'vue-ssr-server-bundle.json'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> readyPromise
<span class="token punctuation">}</span>
</code></pre></div><h2 id="q-r"><a href="#q-r" class="header-anchor">#</a> Q&amp;R</h2> <p>在配置过程中可能会遇到的问题</p> <p><strong>运行后会提示Cannot find element: #app</strong></p> <p>在纯客户端应用程序中我们在模板中将预设好这个 <code>div#app</code> 元素，或者在入口函数中动态创建<code>div#app</code>，但在 SSR 程序中， 需要将 <code>div#app</code> 元素将移到 App.vue 中</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hello Vue SSR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>(node:12612) DeprecationWarning: Tapable.plugin is deprecated. Use new API on <code>.hooks</code> instead</strong></p> <p>如果参考了官方的配置例子在 <code>setup-dev-server.js</code> 有使用 <code>clientCompiler.plugin('done)</code> 的形式，该提示就是这种钩子监听方式应该使用新的 Api <code>hooks</code> 代替，但直接使用 <code>hooks</code>,又会出现内存系统访问不了目录的报错，还没找到解决文案</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/lanjz/Vue/Extend.html" class="prev">
        Extend
      </a></span> <span class="next"><a href="/lanjz/Vue/共享状态思想.html">
        共享状态思想
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/lanjz/assets/js/app.6e704d34.js" defer></script><script src="/lanjz/assets/js/2.1da27f72.js" defer></script><script src="/lanjz/assets/js/154.278dd821.js" defer></script>
  </body>
</html>
