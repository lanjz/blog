<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Class继承 | Hello Wold</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/lanjz/assets/css/0.styles.5dda244b.css" as="style"><link rel="preload" href="/lanjz/assets/js/app.c1b7622d.js" as="script"><link rel="preload" href="/lanjz/assets/js/2.76a29515.js" as="script"><link rel="preload" href="/lanjz/assets/js/56.349a1912.js" as="script"><link rel="prefetch" href="/lanjz/assets/js/10.62ee6e5d.js"><link rel="prefetch" href="/lanjz/assets/js/100.c4bd74a7.js"><link rel="prefetch" href="/lanjz/assets/js/101.95d86e66.js"><link rel="prefetch" href="/lanjz/assets/js/102.b1f523cb.js"><link rel="prefetch" href="/lanjz/assets/js/103.08370114.js"><link rel="prefetch" href="/lanjz/assets/js/104.012e0343.js"><link rel="prefetch" href="/lanjz/assets/js/105.847356ca.js"><link rel="prefetch" href="/lanjz/assets/js/106.92575ef6.js"><link rel="prefetch" href="/lanjz/assets/js/107.3fc5a89e.js"><link rel="prefetch" href="/lanjz/assets/js/108.d84c4a65.js"><link rel="prefetch" href="/lanjz/assets/js/109.9c465c7d.js"><link rel="prefetch" href="/lanjz/assets/js/11.e9cd5566.js"><link rel="prefetch" href="/lanjz/assets/js/110.b83b80bf.js"><link rel="prefetch" href="/lanjz/assets/js/111.3fde5d6e.js"><link rel="prefetch" href="/lanjz/assets/js/112.56c792cf.js"><link rel="prefetch" href="/lanjz/assets/js/113.ffaea08c.js"><link rel="prefetch" href="/lanjz/assets/js/114.db03d3dd.js"><link rel="prefetch" href="/lanjz/assets/js/115.17058fb8.js"><link rel="prefetch" href="/lanjz/assets/js/116.9fbd4d44.js"><link rel="prefetch" href="/lanjz/assets/js/117.fd42d2b4.js"><link rel="prefetch" href="/lanjz/assets/js/118.5a8f1b65.js"><link rel="prefetch" href="/lanjz/assets/js/119.d0a29fb3.js"><link rel="prefetch" href="/lanjz/assets/js/12.322d4c40.js"><link rel="prefetch" href="/lanjz/assets/js/120.41c179fb.js"><link rel="prefetch" href="/lanjz/assets/js/121.163bea24.js"><link rel="prefetch" href="/lanjz/assets/js/122.6b0f213e.js"><link rel="prefetch" href="/lanjz/assets/js/123.286d781d.js"><link rel="prefetch" href="/lanjz/assets/js/124.670f9a55.js"><link rel="prefetch" href="/lanjz/assets/js/125.3df950d3.js"><link rel="prefetch" href="/lanjz/assets/js/126.3e2b38ff.js"><link rel="prefetch" href="/lanjz/assets/js/127.d8b2ca18.js"><link rel="prefetch" href="/lanjz/assets/js/128.95115018.js"><link rel="prefetch" href="/lanjz/assets/js/129.f662c493.js"><link rel="prefetch" href="/lanjz/assets/js/13.07f42784.js"><link rel="prefetch" href="/lanjz/assets/js/130.486e418d.js"><link rel="prefetch" href="/lanjz/assets/js/131.f0d9e106.js"><link rel="prefetch" href="/lanjz/assets/js/132.5ea269f4.js"><link rel="prefetch" href="/lanjz/assets/js/133.ae283b26.js"><link rel="prefetch" href="/lanjz/assets/js/134.20c20c63.js"><link rel="prefetch" href="/lanjz/assets/js/135.de81ac5b.js"><link rel="prefetch" href="/lanjz/assets/js/136.0a4b0aa0.js"><link rel="prefetch" href="/lanjz/assets/js/137.b48656dd.js"><link rel="prefetch" href="/lanjz/assets/js/138.d6252210.js"><link rel="prefetch" href="/lanjz/assets/js/139.8bd095cc.js"><link rel="prefetch" href="/lanjz/assets/js/14.300f7427.js"><link rel="prefetch" href="/lanjz/assets/js/140.6d46b062.js"><link rel="prefetch" href="/lanjz/assets/js/141.3f498211.js"><link rel="prefetch" href="/lanjz/assets/js/142.db3aa273.js"><link rel="prefetch" href="/lanjz/assets/js/143.86b28dc0.js"><link rel="prefetch" href="/lanjz/assets/js/144.05ed1558.js"><link rel="prefetch" href="/lanjz/assets/js/145.e3aecef5.js"><link rel="prefetch" href="/lanjz/assets/js/146.846b148f.js"><link rel="prefetch" href="/lanjz/assets/js/147.e6ef7110.js"><link rel="prefetch" href="/lanjz/assets/js/148.e85e7d8c.js"><link rel="prefetch" href="/lanjz/assets/js/149.c2a63ed7.js"><link rel="prefetch" href="/lanjz/assets/js/15.75927af1.js"><link rel="prefetch" href="/lanjz/assets/js/150.f12473c8.js"><link rel="prefetch" href="/lanjz/assets/js/151.ced4b3e5.js"><link rel="prefetch" href="/lanjz/assets/js/152.ccdcf91c.js"><link rel="prefetch" href="/lanjz/assets/js/153.1266d0a0.js"><link rel="prefetch" href="/lanjz/assets/js/154.b0a23d58.js"><link rel="prefetch" href="/lanjz/assets/js/155.b32403f2.js"><link rel="prefetch" href="/lanjz/assets/js/156.01c3345d.js"><link rel="prefetch" href="/lanjz/assets/js/157.d8d1db20.js"><link rel="prefetch" href="/lanjz/assets/js/158.8e9ffe79.js"><link rel="prefetch" href="/lanjz/assets/js/159.83ef9ba7.js"><link rel="prefetch" href="/lanjz/assets/js/16.972e58b4.js"><link rel="prefetch" href="/lanjz/assets/js/160.a438f6a1.js"><link rel="prefetch" href="/lanjz/assets/js/161.8391c5c3.js"><link rel="prefetch" href="/lanjz/assets/js/162.e33b25d7.js"><link rel="prefetch" href="/lanjz/assets/js/163.d47c6349.js"><link rel="prefetch" href="/lanjz/assets/js/164.7b7c35ca.js"><link rel="prefetch" href="/lanjz/assets/js/165.0a0fe415.js"><link rel="prefetch" href="/lanjz/assets/js/166.08abe831.js"><link rel="prefetch" href="/lanjz/assets/js/167.d57ba4ff.js"><link rel="prefetch" href="/lanjz/assets/js/168.3a1362e5.js"><link rel="prefetch" href="/lanjz/assets/js/169.a4082912.js"><link rel="prefetch" href="/lanjz/assets/js/17.30f78697.js"><link rel="prefetch" href="/lanjz/assets/js/170.f8ff147f.js"><link rel="prefetch" href="/lanjz/assets/js/171.3dd693ed.js"><link rel="prefetch" href="/lanjz/assets/js/172.24e08c9d.js"><link rel="prefetch" href="/lanjz/assets/js/173.234f4a22.js"><link rel="prefetch" href="/lanjz/assets/js/174.17c420c2.js"><link rel="prefetch" href="/lanjz/assets/js/175.7590c38b.js"><link rel="prefetch" href="/lanjz/assets/js/176.acca0638.js"><link rel="prefetch" href="/lanjz/assets/js/177.f0f956b4.js"><link rel="prefetch" href="/lanjz/assets/js/178.290ffb7d.js"><link rel="prefetch" href="/lanjz/assets/js/179.df5f7755.js"><link rel="prefetch" href="/lanjz/assets/js/18.e549c571.js"><link rel="prefetch" href="/lanjz/assets/js/180.cab77a6f.js"><link rel="prefetch" href="/lanjz/assets/js/181.d2d56713.js"><link rel="prefetch" href="/lanjz/assets/js/182.c9898cf4.js"><link rel="prefetch" href="/lanjz/assets/js/183.f6ad2d74.js"><link rel="prefetch" href="/lanjz/assets/js/184.3bb29ddc.js"><link rel="prefetch" href="/lanjz/assets/js/185.ab996038.js"><link rel="prefetch" href="/lanjz/assets/js/186.4bf73df6.js"><link rel="prefetch" href="/lanjz/assets/js/187.e0128233.js"><link rel="prefetch" href="/lanjz/assets/js/188.7ab76336.js"><link rel="prefetch" href="/lanjz/assets/js/189.874fce80.js"><link rel="prefetch" href="/lanjz/assets/js/19.4c6e94ae.js"><link rel="prefetch" href="/lanjz/assets/js/190.a5bf7907.js"><link rel="prefetch" href="/lanjz/assets/js/191.d5a49f50.js"><link rel="prefetch" href="/lanjz/assets/js/192.42571b8f.js"><link rel="prefetch" href="/lanjz/assets/js/193.b6db1d72.js"><link rel="prefetch" href="/lanjz/assets/js/194.1a0ec838.js"><link rel="prefetch" href="/lanjz/assets/js/195.be36b752.js"><link rel="prefetch" href="/lanjz/assets/js/196.bd7d5a9c.js"><link rel="prefetch" href="/lanjz/assets/js/197.d33047d5.js"><link rel="prefetch" href="/lanjz/assets/js/198.50df36c5.js"><link rel="prefetch" href="/lanjz/assets/js/199.72a9c16f.js"><link rel="prefetch" href="/lanjz/assets/js/20.53b938d1.js"><link rel="prefetch" href="/lanjz/assets/js/200.5ca34039.js"><link rel="prefetch" href="/lanjz/assets/js/201.6cda0850.js"><link rel="prefetch" href="/lanjz/assets/js/21.a9b92c58.js"><link rel="prefetch" href="/lanjz/assets/js/22.a1bd3612.js"><link rel="prefetch" href="/lanjz/assets/js/23.eeb43dc0.js"><link rel="prefetch" href="/lanjz/assets/js/24.adfa4c45.js"><link rel="prefetch" href="/lanjz/assets/js/25.4aa76997.js"><link rel="prefetch" href="/lanjz/assets/js/26.437a7bee.js"><link rel="prefetch" href="/lanjz/assets/js/27.a7d7c518.js"><link rel="prefetch" href="/lanjz/assets/js/28.77f14e0a.js"><link rel="prefetch" href="/lanjz/assets/js/29.235100b7.js"><link rel="prefetch" href="/lanjz/assets/js/3.33ad884d.js"><link rel="prefetch" href="/lanjz/assets/js/30.7135963d.js"><link rel="prefetch" href="/lanjz/assets/js/31.2c29f775.js"><link rel="prefetch" href="/lanjz/assets/js/32.84138a6f.js"><link rel="prefetch" href="/lanjz/assets/js/33.e59c9466.js"><link rel="prefetch" href="/lanjz/assets/js/34.5583de7d.js"><link rel="prefetch" href="/lanjz/assets/js/35.664b034c.js"><link rel="prefetch" href="/lanjz/assets/js/36.fa82e931.js"><link rel="prefetch" href="/lanjz/assets/js/37.fdac23b5.js"><link rel="prefetch" href="/lanjz/assets/js/38.4a098ada.js"><link rel="prefetch" href="/lanjz/assets/js/39.99bd1910.js"><link rel="prefetch" href="/lanjz/assets/js/4.32155966.js"><link rel="prefetch" href="/lanjz/assets/js/40.ef4ea8a0.js"><link rel="prefetch" href="/lanjz/assets/js/41.359238c5.js"><link rel="prefetch" href="/lanjz/assets/js/42.dfcfb7c3.js"><link rel="prefetch" href="/lanjz/assets/js/43.ee5a7ebf.js"><link rel="prefetch" href="/lanjz/assets/js/44.6f62c0f1.js"><link rel="prefetch" href="/lanjz/assets/js/45.5c4819c1.js"><link rel="prefetch" href="/lanjz/assets/js/46.e4e2578b.js"><link rel="prefetch" href="/lanjz/assets/js/47.fa5b981d.js"><link rel="prefetch" href="/lanjz/assets/js/48.9a9eb767.js"><link rel="prefetch" href="/lanjz/assets/js/49.0cdc259a.js"><link rel="prefetch" href="/lanjz/assets/js/5.d87d2f2b.js"><link rel="prefetch" href="/lanjz/assets/js/50.ee051ad4.js"><link rel="prefetch" href="/lanjz/assets/js/51.c01469f4.js"><link rel="prefetch" href="/lanjz/assets/js/52.a123d28c.js"><link rel="prefetch" href="/lanjz/assets/js/53.ee9e9982.js"><link rel="prefetch" href="/lanjz/assets/js/54.0dff58ec.js"><link rel="prefetch" href="/lanjz/assets/js/55.3bfcd15b.js"><link rel="prefetch" href="/lanjz/assets/js/57.ff005b8b.js"><link rel="prefetch" href="/lanjz/assets/js/58.cf597c47.js"><link rel="prefetch" href="/lanjz/assets/js/59.58b5d8d9.js"><link rel="prefetch" href="/lanjz/assets/js/6.82fc9486.js"><link rel="prefetch" href="/lanjz/assets/js/60.91f541dc.js"><link rel="prefetch" href="/lanjz/assets/js/61.392806c3.js"><link rel="prefetch" href="/lanjz/assets/js/62.e2405932.js"><link rel="prefetch" href="/lanjz/assets/js/63.1c152ad8.js"><link rel="prefetch" href="/lanjz/assets/js/64.ee8df7bf.js"><link rel="prefetch" href="/lanjz/assets/js/65.ada1d888.js"><link rel="prefetch" href="/lanjz/assets/js/66.bb506dea.js"><link rel="prefetch" href="/lanjz/assets/js/67.3ff4f146.js"><link rel="prefetch" href="/lanjz/assets/js/68.ed3d7d5c.js"><link rel="prefetch" href="/lanjz/assets/js/69.a8aca245.js"><link rel="prefetch" href="/lanjz/assets/js/7.6b15c612.js"><link rel="prefetch" href="/lanjz/assets/js/70.b07da230.js"><link rel="prefetch" href="/lanjz/assets/js/71.57c05e11.js"><link rel="prefetch" href="/lanjz/assets/js/72.a49a948f.js"><link rel="prefetch" href="/lanjz/assets/js/73.9b54cdd3.js"><link rel="prefetch" href="/lanjz/assets/js/74.78ae70ec.js"><link rel="prefetch" href="/lanjz/assets/js/75.fa47b0d4.js"><link rel="prefetch" href="/lanjz/assets/js/76.7caad671.js"><link rel="prefetch" href="/lanjz/assets/js/77.42767b5e.js"><link rel="prefetch" href="/lanjz/assets/js/78.a5e8e519.js"><link rel="prefetch" href="/lanjz/assets/js/79.fa72a02b.js"><link rel="prefetch" href="/lanjz/assets/js/8.9b5a8769.js"><link rel="prefetch" href="/lanjz/assets/js/80.69967fde.js"><link rel="prefetch" href="/lanjz/assets/js/81.bd3158df.js"><link rel="prefetch" href="/lanjz/assets/js/82.de0bde3a.js"><link rel="prefetch" href="/lanjz/assets/js/83.ba9053d8.js"><link rel="prefetch" href="/lanjz/assets/js/84.409abdcc.js"><link rel="prefetch" href="/lanjz/assets/js/85.0261df2a.js"><link rel="prefetch" href="/lanjz/assets/js/86.12af5942.js"><link rel="prefetch" href="/lanjz/assets/js/87.e5e0aa4c.js"><link rel="prefetch" href="/lanjz/assets/js/88.c6ad51a6.js"><link rel="prefetch" href="/lanjz/assets/js/89.51aae356.js"><link rel="prefetch" href="/lanjz/assets/js/9.c51a4211.js"><link rel="prefetch" href="/lanjz/assets/js/90.f78e9303.js"><link rel="prefetch" href="/lanjz/assets/js/91.26d8ac06.js"><link rel="prefetch" href="/lanjz/assets/js/92.e574e15d.js"><link rel="prefetch" href="/lanjz/assets/js/93.d2f8a8dc.js"><link rel="prefetch" href="/lanjz/assets/js/94.b982042e.js"><link rel="prefetch" href="/lanjz/assets/js/95.ab80e429.js"><link rel="prefetch" href="/lanjz/assets/js/96.e9dac98e.js"><link rel="prefetch" href="/lanjz/assets/js/97.bbea8f19.js"><link rel="prefetch" href="/lanjz/assets/js/98.6f4a4d98.js"><link rel="prefetch" href="/lanjz/assets/js/99.92729fd5.js">
    <link rel="stylesheet" href="/lanjz/assets/css/0.styles.5dda244b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/lanjz/" class="home-link router-link-active"><!----> <span class="site-name">Hello Wold</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/lanjz/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/ES6/" class="nav-link router-link-active">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Browser/" class="nav-link">
  Browser
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络&amp;算法" class="dropdown-title"><span class="title">网络&amp;算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="网络&amp;算法" class="mobile-dropdown-title"><span class="title">网络&amp;算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/secure/" class="nav-link">
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/qiankun/" class="nav-link">
  qiankun
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/NA/" class="nav-link">
  跨平台
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node" class="dropdown-title"><span class="title">Node</span> <span class="arrow down"></span></button> <button type="button" aria-label="Node" class="mobile-dropdown-title"><span class="title">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/Node/基础/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Package/" class="nav-link">
  yarn&amp;npm
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Webpack/" class="nav-link">
  Webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/工程化/前端优化总结/" class="nav-link">
  前端优化总结
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/系统设计/" class="nav-link">
  系统设计
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/预加载&amp;预解析.html" class="nav-link">
  预加载&amp;预解析
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/重构改善既有代码的设计.html" class="nav-link">
  重构代码原则
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/开发与调试技巧.html" class="nav-link">
  开发与调试
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/组件设计的基本原则.html" class="nav-link">
  组件设计
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/公共模块管理.html" class="nav-link">
  公共模块管理
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/内存泄漏.html" class="nav-link">
  内存泄漏
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/前端异常捕获.html" class="nav-link">
  前端异常捕获
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/自动化部署.html" class="nav-link">
  自动化部署
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/疑难杂症.html" class="nav-link">
  问题小计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="利其器" class="dropdown-title"><span class="title">利其器</span> <span class="arrow down"></span></button> <button type="button" aria-label="利其器" class="mobile-dropdown-title"><span class="title">利其器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/利其器/Mac.html" class="nav-link">
  Mac
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/利其器/Github.html" class="nav-link">
  Github
</a></li></ul></div></div><div class="nav-item"><a href="/lanjz/Im/" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/lanjz/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/ES6/" class="nav-link router-link-active">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Browser/" class="nav-link">
  Browser
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络&amp;算法" class="dropdown-title"><span class="title">网络&amp;算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="网络&amp;算法" class="mobile-dropdown-title"><span class="title">网络&amp;算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/secure/" class="nav-link">
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/qiankun/" class="nav-link">
  qiankun
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/NA/" class="nav-link">
  跨平台
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node" class="dropdown-title"><span class="title">Node</span> <span class="arrow down"></span></button> <button type="button" aria-label="Node" class="mobile-dropdown-title"><span class="title">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/Node/基础/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Package/" class="nav-link">
  yarn&amp;npm
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/Node/Webpack/" class="nav-link">
  Webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/工程化/前端优化总结/" class="nav-link">
  前端优化总结
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/系统设计/" class="nav-link">
  系统设计
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/预加载&amp;预解析.html" class="nav-link">
  预加载&amp;预解析
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/重构改善既有代码的设计.html" class="nav-link">
  重构代码原则
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/开发与调试技巧.html" class="nav-link">
  开发与调试
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/组件设计的基本原则.html" class="nav-link">
  组件设计
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/公共模块管理.html" class="nav-link">
  公共模块管理
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/内存泄漏.html" class="nav-link">
  内存泄漏
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/前端异常捕获.html" class="nav-link">
  前端异常捕获
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/自动化部署.html" class="nav-link">
  自动化部署
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/工程化/疑难杂症.html" class="nav-link">
  问题小计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="利其器" class="dropdown-title"><span class="title">利其器</span> <span class="arrow down"></span></button> <button type="button" aria-label="利其器" class="mobile-dropdown-title"><span class="title">利其器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lanjz/利其器/Mac.html" class="nav-link">
  Mac
</a></li><li class="dropdown-item"><!----> <a href="/lanjz/利其器/Github.html" class="nav-link">
  Github
</a></li></ul></div></div><div class="nav-item"><a href="/lanjz/Im/" class="nav-link">
  关于我
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/lanjz/ES6/函数的扩展.html" class="sidebar-link">ES6</a></li><li><a href="/lanjz/ES6/Symbol.html" class="sidebar-link">Symbol</a></li><li><a href="/lanjz/ES6/数组.html" class="sidebar-link">数组</a></li><li><a href="/lanjz/ES6/对象.html" class="sidebar-link">对象</a></li><li><a href="/lanjz/ES6/Set和WeakSet.html" class="sidebar-link">Set和WeakSet</a></li><li><a href="/lanjz/ES6/Map和WeakMap.html" class="sidebar-link">Map和WeakMap</a></li><li><a href="/lanjz/ES6/Promise.html" class="sidebar-link">Promise</a></li><li><a href="/lanjz/ES6/Iterator.html" class="sidebar-link">Iterator</a></li><li><a href="/lanjz/ES6/Generater.html" class="sidebar-link">Generater</a></li><li><a href="/lanjz/ES6/async函数.html" class="sidebar-link">async 函数</a></li><li><a href="/lanjz/ES6/Proxy.html" class="sidebar-link">Proxy</a></li><li><a href="/lanjz/ES6/Class.html" class="sidebar-link">Class</a></li><li><a href="/lanjz/ES6/Class继承.html" class="active sidebar-link">Class继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lanjz/ES6/Class继承.html#super" class="sidebar-link">super</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lanjz/ES6/Class继承.html#super对象" class="sidebar-link">super对象</a></li><li class="sidebar-sub-header"><a href="/lanjz/ES6/Class继承.html#super使用总结" class="sidebar-link">super使用总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/lanjz/ES6/Class继承.html#使用类的注意点" class="sidebar-link">使用类的注意点</a></li><li class="sidebar-sub-header"><a href="/lanjz/ES6/Class继承.html#类的-prototype-属性和-proto-属性" class="sidebar-link">类的 prototype 属性和_proto_属性</a></li><li class="sidebar-sub-header"><a href="/lanjz/ES6/Class继承.html#实例的-proto-属性" class="sidebar-link">实例的 _proto_ 属性</a></li><li class="sidebar-sub-header"><a href="/lanjz/ES6/Class继承.html#原生构造函数的继承" class="sidebar-link">原生构造函数的继承</a></li><li class="sidebar-sub-header"><a href="/lanjz/ES6/Class继承.html#mixin-模式的实现" class="sidebar-link">Mixin 模式的实现</a></li></ul></li><li><a href="/lanjz/ES6/Module.html" class="sidebar-link">Module</a></li><li><a href="/lanjz/ES6/Module的加载实现.html" class="sidebar-link">Module 的加载实现</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="class继承"><a href="#class继承" class="header-anchor">#</a> Class继承</h1> <p>Class 可以通过 <code>extends</code> 关键字实现继承</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的constructor(x, y)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的toString()</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="super"><a href="#super" class="header-anchor">#</a> super</h2> <p>无论在 <code>constructor</code> 方法还是 <code>toString</code> 方法中， 有可以使用一个 <code>super</code> 的关键字，它表示父类的构造函数，用来新建父类的 <code>this</code> 对象</p> <p>子类必须在 <code>constructor</code> 方法中调用 <code>super</code> 方法，否则新建实例时会报错。这是因为子类自己的 <code>this</code> 对象，必须先通过父类的构造函数完成塑造，得到与父类同样的实例属性和方法，然后再对其进行加工，加上子类自己的实例属性和方法。如果不调用 <code>super</code> 方法，子类就得不到 <code>this</code> 对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
</code></pre></div><p>类继承与ES5 的继承的区别</p> <ul><li><p>ES5 的继承，实质是先创造子类的实例对象 <code>this</code>，然后再将父类的方法添加到 <code>this</code> 上面</p></li> <li><p>ES6 的继承机制完全不同，实质是调用 <code>super</code> 方法时先新建父类的实例对象 <code>this</code>, 然后将父类实例对象的属性和方法，加到 <code>this</code> 上面（所以必须先调用 <code>super</code> 方法），然后再用子类的构造函数修改 <code>this</code></p></li></ul> <h3 id="super对象"><a href="#super对象" class="header-anchor">#</a> super对象</h3> <p><code>super</code> 既可以当作函数使用，也可以当作对象使用，当作为函数调用时，代表父类的构造函数; 作为对象时，在普通方法中，指向父类的原型对象；在静态方法中，指向父类</p> <p><strong>super在普通方法中</strong></p> <p>在普通方法中，指向父类的原型对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">p</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2 super.p === A.prototype.p</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在子类普通方法中通过 <code>super</code> 调用父类的方法时，方法内部的 <code>this</code> 指向当前的子类实例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><p>如果通过 <code>super</code> 对某个属性赋值，这时 <code>super</code> 就是 <code>this</code> ，赋值的属性会变成子类实例的属性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>super在静态方法中</strong></p> <p>如果 <code>super</code> 作为对象，用在静态方法之中，这时 <code>super</code> 将指向父类，而不是父类的原型对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'static'</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'instance'</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Child<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// static 1</span>

<span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// instance 2</span>
</code></pre></div><p>在子类的静态方法中通过 <code>super</code> 调用父类的方法时，方法内部的 <code>this</code> 指向当前的子类，而不是子类的实例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token constant">B</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token constant">B</span><span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre></div><p>注意，使用 <code>super</code> 的时候，必须显式指定是作为函数、还是作为对象使用，否则会报错</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>由于对象总是继承其他对象的，所以可以在任意一个对象中，使用 <code>super</code> 关键字</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;MyObject: &quot;</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// MyObject: [object Object]</span>
</code></pre></div><h3 id="super使用总结"><a href="#super使用总结" class="header-anchor">#</a> super使用总结</h3> <ul><li><p>继承时需要在  <code>constructor()</code> 构造方法调用 <code>super()</code> 才能创建子类的 <code>this</code> 对象</p></li> <li><p>在普通方法中使用 <code>super</code> 对象时，<code>super</code> 指向父类的原型对象，注意调用父类方法时， <code>this</code> 指向当前子类实例</p></li> <li><p>在普通方法中 <code>super</code> 对某个属性赋值，这时 <code>super</code> 就是 <code>this</code> ，赋值的属性会变成子类实例的属性</p></li> <li><p>在子类静态方法中使用 <code>super</code> 对象时，<code>super</code> 指向父类，注意调用父类方法时， <code>this</code> 指向当前子类</p></li></ul> <h2 id="使用类的注意点"><a href="#使用类的注意点" class="header-anchor">#</a> 使用类的注意点</h2> <p><strong>严格模式</strong></p> <p>类和模块的内部，默认就是严格模式</p> <p><strong>不存在提升</strong></p> <p>类不存在变量提升（hoist），这一点与 ES5 完全不同</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p><strong>name 属性</strong></p> <p>由于本质上，ES6 的类只是 ES5 的构造函数的一层包装，所以函数的许多特性都被Class继承，包括 <code>name</code> 属性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Point<span class="token punctuation">.</span>name <span class="token comment">// &quot;Point&quot;</span>
</code></pre></div><p><code>name</code> 属性总是返回紧跟在 <code>class</code> 关键字后面的类名</p> <p><strong>Generator 方法</strong></p> <p>如果某个方法之前加上星号（*），就表示该方法是一个 Generator 函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>args <span class="token operator">=</span> args<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">*</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> arg <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">yield</span> arg<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">of</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// hello</span>
<span class="token comment">// world</span>
</code></pre></div><p>上面代码中，<code>Foo</code> 类的 <code>Symbol.iterator</code> 方法前有一个星号，表示该方法是一个 Generator 函数。<code>Symbol.iterator</code> 方法返回一个 <code>Foo</code> 类的默认遍历器，<code>for...of</code> 循环会自动调用这个遍历器</p> <p><strong>this 的指向</strong></p> <p>类的方法内部如果含有 <code>this</code> ，它默认指向类的实例。但是，必须非常小心，一旦单独使用该方法，很可能报错</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Logger</span> <span class="token punctuation">{</span>
  <span class="token function">printName</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">'there'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">print</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> printName <span class="token punctuation">}</span> <span class="token operator">=</span> logger<span class="token punctuation">;</span>
<span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: Cannot read property 'print' of undefined</span>
</code></pre></div><p>上面代码中，<code>printName</code> 方法中的 <code>this</code> ，默认指向 <code>Logger</code> 类的实例。但是，如果将这个方法提取出来单独使用，<code>this</code> 会指向该方法运行时所在的环境（由于 <code>class</code> 内部是严格模式，所以 <code>this</code> 实际指向的是 <code>undefined</code> ），从而导致找不到 <code>print</code> 方法而报错。</p> <p>一个比较简单的解决方法是，在构造方法中绑定 <code>this</code> ，这样就不会找不到 <code>print</code> 方法了</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Logger</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>printName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printName</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>另一种解决方法是使用箭头函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Obj</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getThis</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> myObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Obj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myObj<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> myObj <span class="token comment">// true</span>
</code></pre></div><p>箭头函数内部的 <code>this</code> 总是指向定义时所在的对象。上面代码中，箭头函数位于构造函数内部，它的定义生效的时候，是在构造函数执行的时候。这时，箭头函数所在的运行环境，肯定是实例对象，所以 <code>this</code> 会总是指向实例对象。</p> <p>还有一种解决方法是使用 <code>Proxy</code> ，获取方法的时候，自动绑定 <code>this</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">selfish</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> value <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cache<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> proxy<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token function">selfish</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="类的-prototype-属性和-proto-属性"><a href="#类的-prototype-属性和-proto-属性" class="header-anchor">#</a> 类的 prototype 属性和__proto__属性</h2> <p>大多数浏览器的 ES5 实现之中，每一个对象都有 <code>__proto__</code> 属性，指向对应的构造函数的 <code>prototype</code> 属性。Class 作为构造函数的语法糖，同时有 <code>prototype</code> 属性和 <code>__proto__</code> 属性，因此同时存在两条继承链</p> <ul><li><p>子类的 <code>__proto__</code> 属性，表示构造函数的继承，总是指向父类</p></li> <li><p>子类 <code>prototype</code> 属性的 <code>__proto__</code> 属性，表示方法的继承，总是指向父类的 <code>prototype</code> 属性</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token constant">B</span><span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token constant">A</span> <span class="token comment">// true</span>
<span class="token class-name">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">A</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
</code></pre></div><p>这样的结果是因为，类的继承是按照下面的模式实现的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">// B 的实例继承 A 的实例</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// B 继承 A 的静态属性</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这两条继承链，可以这样理解：作为一个对象，子类（B）的原型（ <code>__proto__</code> 属性）是父类（A）；作为一个构造函数，子类（B）的原型对象（prototype属性）是父类的原型对象（prototype属性）的实例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">B</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token class-name">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
</code></pre></div><p><strong>extends关键字后面可以跟多种类型的值</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面代码的A，只要是一个有 <code>prototype</code> 属性的函数，就能被B继承。由于函数都有 <code>prototype</code> 属性（除了 <code>Function.prototype</code> 函数），因此 <code>A</code> 可以是任意函数</p> <p>下面，讨论两种情况。第一种，子类继承Object类</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token constant">A</span><span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Object <span class="token comment">// true</span>
<span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
</code></pre></div><p>第二种情况，不存在任何继承</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token constant">A</span><span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
</code></pre></div><p>这种情况下，A 作为一个基类（即不存在任何继承），就是一个普通函数，所以直接继承 <code>Function.prototype</code> 。但是，A 调用后返回一个空对象（即 Object 实例），所以 <code>A.prototype.__proto__</code> 指向构造函数（Object）的 <code>prototype</code> 属性</p> <h2 id="实例的-proto-属性"><a href="#实例的-proto-属性" class="header-anchor">#</a> 实例的 <strong>proto</strong> 属性</h2> <p>子类实例的 <code>__proto__</code> 属性的 <code>__proto__</code> 属性，指向父类实例的 <code>__proto__</code> 属性。也就是说，子类的原型的原型，是父类的原型</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

p2<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> p1<span class="token punctuation">.</span>__proto__ <span class="token comment">// false</span>
p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> p1<span class="token punctuation">.</span>__proto__ <span class="token comment">// true</span>
</code></pre></div><p>上面代码中，<code>ColorPoint</code> 继承了 <code>Point</code>，导致前者原型的原型是后者的原型。</p> <p>因此，通过子类实例的 <code>__proto__.__proto__</code> 属性，可以修改父类实例的行为</p> <div class="language-js extra-class"><pre class="language-js"><code>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function-variable function">printName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Ha'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

p1<span class="token punctuation">.</span><span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Ha&quot;</span>
</code></pre></div><h2 id="原生构造函数的继承"><a href="#原生构造函数的继承" class="header-anchor">#</a> 原生构造函数的继承</h2> <p>以前，原生构造函数是无法继承的，比如，不能自己定义一个Array的子类</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Array</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">MyArray</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  constructor<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> MyArray<span class="token punctuation">,</span>
    writable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码定义了一个继承 <code>Array</code> 的 <code>MyArray</code> 类。但是，这个类的行为与 <code>Array</code> 完全不一致</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
colors<span class="token punctuation">.</span>length  <span class="token comment">// 0</span>

colors<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
colors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment">// &quot;red&quot;</span>
</code></pre></div><p>之所以会发生这种情况，是因为子类无法获得原生构造函数的内部属性，通过 <code>Array.apply()</code> 或者分配给原型对象都不行。原生构造函数会忽略 <code>apply</code> 方法传入的 <code>this</code> ，也就是说，原生构造函数的 <code>this</code> 无法绑定，导致拿不到内部属性。</p> <p>ES5 是先新建子类的实例对象 <code>this</code>，再将父类的属性添加到子类上，由于父类的内部属性无法获取，导致无法继承原生的构造函数。比如，<code>Array</code> 构造函数有一个内部属性 <code>[[DefineOwnProperty]]</code> ，用来定义新属性时，更新 <code>length</code> 属性，这个内部属性无法在子类获取，导致子类的 <code>length</code> 属性行为不正常</p> <p>ES6 允许继承原生构造函数定义子类，因为 ES6 是先新建父类的实例对象 <code>this</code> ，然后再用子类的构造函数修饰 <code>this</code> ，使得父类的所有行为都可以继承。下面是一个继承 <code>Array</code> 的例子</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span>length <span class="token comment">// 1</span>

arr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// undefined</span>
</code></pre></div><p>下面是一个自定义 <code>Error</code> 子类的例子，可以用来定制报错时的行为</p> <h2 id="mixin-模式的实现"><a href="#mixin-模式的实现" class="header-anchor">#</a> Mixin 模式的实现</h2> <p>Mixin 指的是多个对象合成一个新的对象，新对象具有各个组成成员的接口。它的最简单实现如下</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token string">'a'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>
  b<span class="token operator">:</span> <span class="token string">'b'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// {a: 'a', b: 'b'}</span>
</code></pre></div><p>下面是一个更完备的实现，将多个类的接口“混入”（mix in）另一个类</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>mixins</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">Mix</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> mixin <span class="token keyword">of</span> mixins<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">copyProperties</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">mixin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 拷贝实例属性</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> mixin <span class="token keyword">of</span> mixins<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">copyProperties</span><span class="token punctuation">(</span>Mix<span class="token punctuation">,</span> mixin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 拷贝静态属性</span>
    <span class="token function">copyProperties</span><span class="token punctuation">(</span><span class="token class-name">Mix</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> mixin<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 拷贝原型属性</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> Mix<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">copyProperties</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> key <span class="token operator">!==</span> <span class="token string">'constructor'</span>
      <span class="token operator">&amp;&amp;</span> key <span class="token operator">!==</span> <span class="token string">'prototype'</span>
      <span class="token operator">&amp;&amp;</span> key <span class="token operator">!==</span> <span class="token string">'name'</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> desc <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> desc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面代码的 <code>mix</code> 函数，可以将多个对象合成为一个类。使用的时候，只要继承这个类即可</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">DistributedEdit</span> <span class="token keyword">extends</span> <span class="token class-name">mix</span><span class="token punctuation">(</span>Loggable<span class="token punctuation">,</span> Serializable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/lanjz/ES6/Class.html" class="prev">
        Class
      </a></span> <span class="next"><a href="/lanjz/ES6/Module.html">
        Module
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/lanjz/assets/js/app.c1b7622d.js" defer></script><script src="/lanjz/assets/js/2.76a29515.js" defer></script><script src="/lanjz/assets/js/56.349a1912.js" defer></script>
  </body>
</html>
