(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{929:function(e,t,a){"use strict";a.r(t);var r=a(64),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"esbuild"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#esbuild"}},[e._v("#")]),e._v(" esbuild")]),e._v(" "),a("p",[e._v("先简单了解一下 esbuild 是个啥")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.breword.com/evanw-esbuild/",target:"_blank",rel:"noopener noreferrer"}},[e._v("esbuild"),a("OutboundLink")],1),e._v("官方描述的作用就是：一个JavaScript的打包和和压缩工具")]),e._v(" "),a("p",[e._v("esbuild使用golang开发，在打包的速度上非常快，vite在dev模式下就是使用 esbuild 进行打包")]),e._v(" "),a("p",[a("strong",[e._v("esbuild的主要特征")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("在没有缓存的情况也能有极致的性能")])]),e._v(" "),a("li",[a("p",[e._v("支持ES6的Tree shaking")])]),e._v(" "),a("li",[a("p",[e._v("原生支持typescript和jsx打包")])]),e._v(" "),a("li",[a("p",[e._v("支持Source Map")])]),e._v(" "),a("li",[a("p",[e._v("代码压缩")])]),e._v(" "),a("li",[a("p",[e._v("支持定义插件")])]),e._v(" "),a("li",[a("p",[e._v("其它等等")])])]),e._v(" "),a("h2",{attrs:{id:"语言优势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语言优势"}},[e._v("#")]),e._v(" 语言优势")]),e._v(" "),a("p",[e._v("JavaScript 本质上依然是一门解释型语言，JavaScript 程序每次执行都需要先由解释器一边将源码翻译成机器语言，一边调度执行；而 Go 是一种编译型语言，在编译阶段就已经将源码转译为机器码，启动时只需要直接执行这些机器码即可。也就意味着，Go 语言编写的程序比 JavaScript 少了一个动态解释的过程")]),e._v(" "),a("p",[e._v("Go 天生具有多线程运行能力，而 JavaScript 本质上是一门单线程语言，直到引入 WebWorker 规范之后才有可能在浏览器、Node 中实现多线程操作")]),e._v(" "),a("h2",{attrs:{id:"集成webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集成webpack"}},[e._v("#")]),e._v(" 集成webpack")]),e._v(" "),a("p",[e._v("有一个相对较新的项目叫"),a("a",{attrs:{href:"https://github.com/privatenumber/esbuild-loader",target:"_blank",rel:"noopener noreferrer"}},[e._v("esbuild-loader"),a("OutboundLink")],1),e._v("。由hiroki osame开发，"),a("code",[e._v("esbuild-loader")]),e._v(" 是一个建立在 esbuild 之上的webpack加载器。它允许用户用自己来替换 "),a("code",[e._v("ts-loader")]),e._v(" 或 "),a("code",[e._v("babel-loader")]),e._v(" ，这极大地提高了构建速度")]),e._v(" "),a("h3",{attrs:{id:"将一个现有的项目迁移到esbuild"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将一个现有的项目迁移到esbuild"}},[e._v("#")]),e._v(" 将一个现有的项目迁移到esbuild")]),e._v(" "),a("p",[e._v("安装 esbuild-loader： "),a("code",[e._v("npm i -D esbuild-loader")])]),e._v(" "),a("p",[a("code",[e._v("webpack.config.js")]),e._v(" 修改 "),a("code",[e._v("babel-loader")]),e._v(" 的使用")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  module.exports = {\n    module: {\n      rules: [\n-       {\n-         test: /\\.js$/,\n-         use: 'babel-loader',\n-       },\n+       {\n+         test: /\\.js$/,\n+         loader: 'esbuild-loader',\n+         options: {\n+           loader: 'jsx',  // Remove this if you're not using JSX\n+           target: 'es2015'  // Syntax to compile to (see options below for possible values)\n+         }\n+       },\n\n        ...\n      ],\n    },\n  }\n\n")])])]),a("p",[e._v("如果有使用 "),a("code",[e._v("ts-loader")]),e._v(" ，做如下修改")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  module.exports = {\n    module: {\n      rules: [\n-       {\n-         test: /\\.tsx?$/,\n-         use: 'ts-loader'\n-       },\n+       {\n+         test: /\\.tsx?$/,\n+         loader: 'esbuild-loader',\n+         options: {\n+           loader: 'tsx',  // Or 'ts' if you don't need tsx\n+           target: 'es2015'\n+         }\n+       },\n\n        ...\n      ]\n    },\n  }\n\n")])])]),a("blockquote",[a("p",[a("a",{attrs:{href:"https://juejin.cn/post/6977183266986000414",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack或esbuild。为什么不同时进行呢"),a("OutboundLink")],1),a("br"),e._v(" "),a("a",{attrs:{href:"https://xie.infoq.cn/article/d9c4ca69e0de8fecf176dfd20",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack 或 esbuild：为什么不是两者兼而有之？"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=s.exports}}]);