(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{658:function(t,s,a){"use strict";a.r(s);var e=a(55),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"发布npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布npm"}},[t._v("#")]),t._v(" 发布npm")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("注册 "),a("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("npm")]),a("OutboundLink")],1),t._v(" 账号")])]),t._v(" "),a("li",[a("p",[t._v("本地终端登录 "),a("code",[t._v("npm")]),t._v(" 账号："),a("code",[t._v("npm login")])])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("Username: YOUR_USER_NAME\nPassword: YOUR_PASSWORD\nEmail: YOUR_EMAIL@domain.com\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[t._v("查看 "),a("code",[t._v("npm")]),t._v(" 当前使用的用户："),a("code",[t._v("npm whoami")])])]),t._v(" "),a("li",[a("p",[t._v("创建 "),a("code",[t._v("npm")]),t._v(" 包："),a("code",[t._v("npm init packagename -y")])])])]),t._v(" "),a("p",[a("code",[t._v("package.json")]),t._v(" 中的字段")]),t._v(" "),a("p",[t._v("必需带有的字段")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("name")]),t._v(" :包名(全部小写，没有空格，可以使用下划线或者横线)")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("version")]),t._v(" : 版本")])])]),t._v(" "),a("p",[t._v("其他内容")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("author")]),t._v(" : 作者信息")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("main")]),t._v(" : 程序入口文件，一般都是 "),a("code",[t._v("index.js")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("description")]),t._v(" : 描述信息，有助于搜索")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("keywords[]")]),t._v(": 关键字，有助于在人们使用 "),a("code",[t._v("npm search")]),t._v(" 搜索时发现你的项目")])])]),t._v(" "),a("p",[a("code",[t._v("scripts")]),t._v(": 支持的脚本，默认是一个空的 "),a("code",[t._v("test")])]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("license")]),t._v(" : 默认是 MIT")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("bugs")]),t._v(" : 当前项目的一些错误信息，如果有的话")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("dependencies")]),t._v(" : 在生产环境中需要用到的依赖")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("devDependencies")]),t._v(": 在开发、测试环境中用到的依赖")])]),t._v(" "),a("li",[a("p",[t._v("`repository : 代码仓库")])])]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("发布")])]),t._v(" "),a("ul",[a("li",[t._v("将 "),a("code",[t._v("npm")]),t._v(" 源切换为 "),a("code",[t._v("https://registry.npmjs.org/")])])]),t._v(" "),a("p",[a("code",[t._v("npm set registry https://registry.npmjs.org/")])]),t._v(" "),a("ul",[a("li",[t._v("发布："),a("code",[t._v("npm publish")])])]),t._v(" "),a("h2",{attrs:{id:"执行npm-publish时可以遇到的错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行npm-publish时可以遇到的错误"}},[t._v("#")]),t._v(" 执行"),a("code",[t._v("npm publish")]),t._v("时可以遇到的错误")]),t._v(" "),a("p",[a("strong",[t._v("提示 "),a("code",[t._v("is not in the npm registry")])])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("查看自己的 "),a("code",[t._v("npm")]),t._v(" 是否使用了镜像，比如常用的淘宝镜像 "),a("code",[t._v("http://registry.npm.taobao.org/")])])]),t._v(" "),a("li",[a("p",[t._v("我们需要切回原来的 "),a("code",[t._v("npm config set registry https://registry.npmjs.org/")])])]),t._v(" "),a("li",[a("p",[t._v("重新执行 "),a("code",[t._v("npm adduser")]),t._v("、"),a("code",[t._v("npm publish")])])])]),t._v(" "),a("p",[a("strong",[t._v("This package has been marked as private")])]),t._v(" "),a("p",[t._v("删除 "),a("code",[t._v("package.json")]),t._v(" 文件的 "),a("code",[t._v('"private": true')])]),t._v(" "),a("p",[a("strong",[t._v("you must verify your email before publishing a new package")])]),t._v(" "),a("p",[a("code",[t._v("npm")]),t._v(" 要求开发者提供了一个有效的电子邮件地址，并且在每次发布新的NPM包之前，需要验证你的电子邮件。")]),t._v(" "),a("p",[t._v("所以登录 "),a("code",[t._v("npm")]),t._v(" 官网，验证一下自己的邮件地址")]),t._v(" "),a("p",[t._v("示例："),a("a",{attrs:{href:"https://github.com/lanjz/black-hook-ui",target:"_blank",rel:"noopener noreferrer"}},[t._v("black-hook-ui"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"粟子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#粟子"}},[t._v("#")]),t._v(" 粟子")]),t._v(" "),a("blockquote",[a("p",[t._v("参数 "),a("a",{attrs:{href:"https://blog.csdn.net/cscscssjsp/article/details/82501745",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue封装组件，类似elementUI组件库打包发布到npm上"),a("OutboundLink")],1)])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("通过 "),a("code",[t._v("vue init webpack-simple")]),t._v("，新建一个 "),a("code",[t._v("vue")]),t._v(" 项目")])]),t._v(" "),a("li",[a("p",[t._v("在 "),a("code",[t._v("src")]),t._v(" 目录下新一个 "),a("code",[t._v("lib")]),t._v(" 文件夹，放置需要封装的 "),a("code",[t._v("vue")]),t._v(" 组件")])]),t._v(" "),a("li",[a("p",[t._v("修改 "),a("code",[t._v("vue.deploy.config.js")]),t._v(" 文件")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/lib/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    publicPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dist/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'black-hook-ui.min.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    library"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'blackHookUI'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("修改 "),a("code",[t._v("packpack.json")]),t._v(" 文件")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/dist/black-hook-ui.min.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"files"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/lib"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[a("p",[t._v("执行 "),a("code",[t._v("yarn build")]),t._v(" 命令生成 "),a("code",[t._v("dist")]),t._v(" 目录")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("npm")]),t._v(" 上传")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);