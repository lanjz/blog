(window.webpackJsonp=window.webpackJsonp||[]).push([[208],{789:function(t,a,s){"use strict";s.r(a);var e=s(55),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"前端优化总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端优化总结"}},[t._v("#")]),t._v(" 前端优化总结")]),t._v(" "),s("p",[t._v("切入正题之前，先看下平时如何查看页面性能")]),t._v(" "),s("h3",{attrs:{id:"window-performance"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#window-performance"}},[t._v("#")]),t._v(" window.performance")]),t._v(" "),s("p",[s("code",[t._v("window.performance")]),t._v(" 是用来测量网页和Web应用程序的性能api，"),s("code",[t._v("window.performance")]),t._v(" 里面包含了很多属性，其中一个 "),s("code",[t._v("timing")]),t._v(" 属性包含了网络、解析等一系列的时间数据")]),t._v(" "),s("p",[t._v("借助这个 "),s("code",[t._v("performance")]),t._v("，就可以得到我们需要的白屏和首屏时间")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("DNS查询耗时 = domainLookupEnd - domainLookupStart")])]),t._v(" "),s("li",[s("p",[t._v("TCP链接耗时 = connectEnd - connectStart")])]),t._v(" "),s("li",[s("p",[t._v("request请求耗时 = responseEnd - responseStart")])]),t._v(" "),s("li",[s("p",[t._v("解析dom树耗时 = domComplete - domInteractive")])]),t._v(" "),s("li",[s("p",[t._v("白屏时间 = domloading - fetchStart")])]),t._v(" "),s("li",[s("p",[t._v("domready可操作时间 = domContentLoadedEventEnd - fetchStart")])]),t._v(" "),s("li",[s("p",[t._v("onload总下载时间 = loadEventEnd - fetchStart")])])]),t._v(" "),s("p",[t._v("回顾一个跟本文无关的问题 DOMContentLoaded vs load")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("当初始的 HTML 文档被完全加载和解析完成之后，DOMContentLoaded 事件被触发，此时不包含样式表、图像等加载完成")])]),t._v(" "),s("li",[s("p",[t._v("load 是指页面上所有的资源（图片，音频，视频等）加载完成")])])]),t._v(" "),s("h2",{attrs:{id:"图片相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片相关"}},[t._v("#")]),t._v(" 图片相关")]),t._v(" "),s("h3",{attrs:{id:"图片懒加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片懒加载"}},[t._v("#")]),t._v(" 图片懒加载")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("首先，将图片的地址放在其它属性(data-url)中，而不是 src。")])]),t._v(" "),s("li",[s("p",[t._v("页面加载时根据 scrollTop 的值判断图片是否在可视区域,如果在可视区域，则将 data-url 属性中的值取出存放到src属性中（首屏的图片可以直接加载）。")])]),t._v(" "),s("li",[s("p",[t._v("在滚动过程中，判断图片是否在可视区域，如果在，则将 data-url 属性中的值放到 src 属性中")])])]),t._v(" "),s("p",[t._v("如何判断图片在可视区域？")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("根据滚动条高度和图片位置信息进行判断")])]),t._v(" "),s("li",[s("p",[t._v("使用 "),s("code",[t._v("Intersection Observer API")]),t._v(" (推荐)")])])]),t._v(" "),s("h3",{attrs:{id:"css-sprite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-sprite"}},[t._v("#")]),t._v(" css sprite")]),t._v(" "),s("p",[t._v("css sprite（CSS精灵或者雪碧图），即将几个小的图片合并在一张图片中，利用 "),s("code",[t._v("background-position")]),t._v(" 来显示对应的图片")]),t._v(" "),s("p",[t._v("这种方式的优点表现在：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("减少了请求资源的请求")])]),t._v(" "),s("li",[s("p",[t._v("可以利用到缓存")])])]),t._v(" "),s("p",[t._v("这种方式要注意合并图片的大小，过大的话反而适得其反")]),t._v(" "),s("h3",{attrs:{id:"base64"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#base64"}},[t._v("#")]),t._v(" base64")]),t._v(" "),s("p",[t._v("优点：无需额外的请求")]),t._v(" "),s("p",[t._v("缺点：额外增加了 HTML/CSS 文件的大小")]),t._v(" "),s("h3",{attrs:{id:"字体图标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字体图标"}},[t._v("#")]),t._v(" 字体图标")]),t._v(" "),s("p",[t._v("优点：无需额外的请求，使用灵活（可以方便得控制大小、颜色等）")]),t._v(" "),s("h2",{attrs:{id:"首屏渲染相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#首屏渲染相关"}},[t._v("#")]),t._v(" 首屏渲染相关")]),t._v(" "),s("h3",{attrs:{id:"延迟加载-js-资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#延迟加载-js-资源"}},[t._v("#")]),t._v(" 延迟加载 JS 资源")]),t._v(" "),s("p",[t._v("DOM 渲染和 JS 执行是互斥的，所以正常情况下我们应该优先进行 DOM 的渲染，优化方式：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("JS脚本的加载和执行尽量后在文档后面")])]),t._v(" "),s("li",[s("p",[t._v("加载外部 JS 资源时添加 "),s("code",[t._v("defer")]),t._v(" 或 "),s("code",[t._v("async")]),t._v(" 属性")]),t._v(" "),s("p",[s("strong",[t._v("defer 和 async 在网络读取这块是一样都是异步的")]),t._v("。区别在于：")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("defer")]),t._v(" 属性脚本的执行是在所有元素解析完成之后，DOMContentLoaded 事件触发之前完成，并且当包含多个 "),s("code",[t._v("defer")]),t._v(" 标签的传本时，它是按照加载顺序执行脚本的")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("async")]),t._v(" 的脚本并不保证按照指定它们的先后顺序执行。对它来说脚本的加载和执行是紧紧挨着的，所以不管你声明的顺序如何，只要它加载完了就会立刻执行")])])])])]),t._v(" "),s("h3",{attrs:{id:"代码拆解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码拆解"}},[t._v("#")]),t._v(" 代码拆解")]),t._v(" "),s("p",[t._v("主要是为了减少代码体积")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("代码模块代，开启 webpack tree shiking、开启压缩")])]),t._v(" "),s("li",[s("p",[t._v("按需加载组件")])])]),t._v(" "),s("h2",{attrs:{id:"预加载-预解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#预加载-预解析"}},[t._v("#")]),t._v(" 预加载&预解析")]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v("link")]),t._v(" 标签的 "),s("code",[t._v("rel")]),t._v(" 属性可以实现一些资源的预加载与预解析")]),t._v(" "),s("h3",{attrs:{id:"reload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reload"}},[t._v("#")]),t._v(" reload")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("preload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("style.css"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("as")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("preload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("main.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("as")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("script"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("code",[t._v("reload")]),t._v(" 一般用于当前页面要使用脚本")]),t._v(" "),s("h3",{attrs:{id:"prefetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prefetch"}},[t._v("#")]),t._v(" prefetch")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("prefetch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("main.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("与 "),s("code",[t._v("prefetch")]),t._v(" 类似，但它是意图预获取一些资源，以备下一个导航/页面使用（比如，当你去到下一个页面时）。")]),t._v(" "),s("p",[s("strong",[t._v("webpack code split时配置reload&prefetch")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* webpackPrefetch: true */")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./path/to/LoginModal.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* webpackPreload: true */")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ChartingLibrary'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"dns-预解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dns-预解析"}},[t._v("#")]),t._v(" DNS 预解析")]),t._v(" "),s("p",[t._v("dns-prefetch (DNS 预获取) 是尝试在请求资源之前解析域名。这可能是后面要加载的文件，也可能是用户尝试打开的链接目标")]),t._v(" "),s("p",[s("strong",[t._v("页面使用预解析")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("x-dns-prefetch-control"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--告诉浏览器，当前页面要做DNS预解析--\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dns-prefetch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("//bdimg.share.baidu.com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--使用link标签来强制查询特定主机名--\x3e")]),t._v("\n")])])]),s("p",[s("strong",[t._v("HTTP中使用预解析")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Link: <https://fonts.gstatic.com/>; rel=dns-prefetch\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("dns-prefetch 仅对跨域域上的 DNS查找有效，因此请避免使用它来指向您的站点或域。这是因为，到浏览器看到提示时，您站点域背后的IP已经被解析")])]),t._v(" "),s("h3",{attrs:{id:"prerender"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerender"}},[t._v("#")]),t._v(" prerender")]),t._v(" "),s("p",[t._v("dns-prefetch 只是预解析 DNS，"),s("code",[t._v("prerender")]),t._v(" 除了可以完成 DNS 的预解析外，还可以预建立 TCP 连接")]),t._v(" "),s("p",[t._v("粟子：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.domain.com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("preconnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("crossorigin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"prerender-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerender-2"}},[t._v("#")]),t._v(" prerender")]),t._v(" "),s("p",[t._v("prerender 和 prefetch 非常相似，它们都优化了可能导航到的下一页上的资源的加载，区别是 prerender 在后台渲染了整个页面及整个页面所有的资源。")]),t._v(" "),s("p",[t._v("粟子：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("prerender"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://www.keycdn.com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"页面渲染相关优先"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面渲染相关优先"}},[t._v("#")]),t._v(" 页面渲染相关优先")]),t._v(" "),s("p",[t._v("页面渲染的优化大致方向为")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("尽量避免过多得触发重排重绘")])]),t._v(" "),s("li",[s("p",[t._v("尽量控制 DOM 元素数量")])])]),t._v(" "),s("p",[s("strong",[t._v("避免过多得触发重排重绘，优化方式有：")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("利用节流、防抖减少渲染频率")])]),t._v(" "),s("li",[s("p",[t._v("利用 "),s("code",[t._v("documentFragment")]),t._v(" 处理大量的 DOM 操作")])]),t._v(" "),s("li",[s("p",[t._v("利用 "),s("code",[t._v("display:none")]),t._v(" => "),s("code",[t._v("大量的 DOM 操作")]),t._v("  =>  "),s("code",[t._v("display:block")]),t._v(" 方式处理大量的 DOM 操作")])]),t._v(" "),s("li",[s("p",[t._v("使用CSS动画代替JS动画")]),t._v(" "),s("p",[t._v("JS 动画会触发高频率的重排重绘(但是可以使用 "),s("code",[t._v("requestAnimationFrame")]),t._v(" 优化)")]),t._v(" "),s("p",[t._v("CSS3动画可以开始CPU硬件加速，简单动画使用 CSS3 实现代码比较简洁，但是强制使用了 GPU 的硬件加速，也会导致浏览器一直处于高负荷运转的状态，这反而会让动画变的卡顿")])])]),t._v(" "),s("p",[s("strong",[t._v("尽量控制 DOM 元素数量")])]),t._v(" "),s("p",[t._v("如果无法避免要出现的大量的 DOM 元素，则可使用 "),s("code",[t._v("虚拟滚动")]),t._v("、"),s("code",[t._v("分页")]),t._v(" 等方式进行优化")]),t._v(" "),s("h2",{attrs:{id:"spa项目的首屏优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spa项目的首屏优化"}},[t._v("#")]),t._v(" SPA项目的首屏优化")]),t._v(" "),s("p",[t._v("SPA 首屏优化的方法：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("服务端渲染，不过这种方式项目的复杂度就增大了很多")])]),t._v(" "),s("li",[s("p",[t._v("预渲染，打包后给首页的挂载元素添加内容，这样浏览器在加载页面后及在框架挂载内容之前就会先显示事先添加的内容。")]),t._v(" "),s("p",[t._v("以 Vue 项目为便，除了自定义内容外，Vue 官方提供了 "),s("a",{attrs:{href:"https://github.com/chrisvfritz/prerender-spa-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("PrerenderSPAPlugin"),s("OutboundLink")],1),t._v(" 插件来实现预渲染 ,具体配置方式可以参数 "),s("a",{attrs:{href:"https://codebeat.gitee.io/lanjz/Vue3/%E9%A2%84%E6%B8%B2%E6%9F%93.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue预渲染"),s("OutboundLink")],1)])])]),t._v(" "),s("h2",{attrs:{id:"http-连接速度相关的优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-连接速度相关的优化"}},[t._v("#")]),t._v(" HTTP 连接速度相关的优化")]),t._v(" "),s("h3",{attrs:{id:"缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缓存"}},[t._v("#")]),t._v(" 缓存")]),t._v(" "),s("p",[t._v("缓存是最最最最常见的优化手段了")]),t._v(" "),s("h3",{attrs:{id:"http正文压缩"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http正文压缩"}},[t._v("#")]),t._v(" HTTP正文压缩")]),t._v(" "),s("p",[s("code",[t._v("Content-Encoding: gzip")])]),t._v(" "),s("p",[t._v("内容编码的目的是优化传输内容的大小，提高通信传输速度")]),t._v(" "),s("p",[t._v("除了 gzip 还有其它的压缩方式，如 Brotil 。相比 gzip Brotli 压缩算法具有几个特点")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("针对常见的 Web 资源内容，Brotli 的性能相比 Gzip 提高了 17-25%；")])]),t._v(" "),s("li",[s("p",[t._v("当 Brotli 压缩级别为 1 时，压缩率比 Gzip 压缩等级为 9（最高）时还要高；")])]),t._v(" "),s("li",[s("p",[t._v("在处理不同 HTML 文档时，Brotli 依然能够提供非常高的压缩率。")])])]),t._v(" "),s("p",[s("strong",[t._v("兼容性：除了 IE 和 Opera Mini 之外，几乎所有的主流浏览器都已支持 Brotli 算法")])]),t._v(" "),s("h3",{attrs:{id:"使用-cdn-加载资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-cdn-加载资源"}},[t._v("#")]),t._v(" 使用 CDN 加载资源")]),t._v(" "),s("p",[t._v("CDN 的使用主要是为了解决两个问题：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("突破浏览器同一时间对相同域名的连接数量限制")])]),t._v(" "),s("li",[s("p",[t._v("最近取材减少网络延迟")])])]),t._v(" "),s("h3",{attrs:{id:"使用http2-0"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用http2-0"}},[t._v("#")]),t._v(" 使用HTTP2.0")]),t._v(" "),s("p",[t._v("HTTP2 特点：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("多路复用")])]),t._v(" "),s("li",[s("p",[t._v("压缩Headers")])]),t._v(" "),s("li",[s("p",[t._v("Sever Push")])])]),t._v(" "),s("h2",{attrs:{id:"减少阻塞"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#减少阻塞"}},[t._v("#")]),t._v(" 减少阻塞")]),t._v(" "),s("p",[t._v("这一块的优化主要针对耗时计算任务，可使用 "),s("code",[t._v("Web Workers")])])])}),[],!1,null,null,null);a.default=r.exports}}]);