(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{671:function(t,s,a){"use strict";a.r(s);var n=a(58),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"html5新特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html5新特性"}},[t._v("#")]),t._v(" HTML5新特性")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Web Worker")])]),t._v(" "),a("li",[a("p",[t._v("WebSocket")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("Geolocation")]),t._v(" - 定位用户的位置")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geolocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentPosition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("pos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//定位成功的回调")]),t._v("\n　　　　console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'用户定位数据获取成功'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n　　　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//console.log(arguments);")]),t._v("\n　　　　console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'定位时间：'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n　　　　console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'经度：'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("longitude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n　　　　console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'纬度：'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latitude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n　　　　console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'海拔：'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("altitude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n　　　　console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'速度：'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("speed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//定位失败的回调")]),t._v("\n　　  　　console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'用户定位数据获取失败'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n　  　　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//console.log(arguments);")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])])]),a("ul",[a("li",[a("p",[t._v("拖放API")]),t._v(" "),a("p",[t._v("拖放是一种常见的特性，即抓取对象以后拖到另一个位置。在 HTML5 中，拖放是标准的一部分，任何元素都能够拖放。")])])]),t._v(" "),a("p",[t._v("拖放的过程分为源对象和目标对象。源对象是指你即将拖动元素，而目标对象则是指拖动之后要放置的目标位置。")]),t._v(" "),a("p",[t._v("源对象(可能发生移动的)可以触发的事件:")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("dragstart")]),t._v("：拖动开始")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drag")]),t._v("：拖动中")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("dragend")]),t._v("：拖动结束")])])]),t._v(" "),a("p",[t._v("拖放的目标对象(不会发生移动)可以触发的事件:")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("dragenter")]),t._v("：拖动者进入")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("dragover")]),t._v("：拖动者悬停")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("dragleave")]),t._v("：拖动者离开")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("drop")]),t._v("：释放")])])]),t._v(" "),a("p",[t._v("拖动传递数据")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("在拖动源对象事件中使用 "),a("code",[t._v("e.dataTransfer")]),t._v(" 属性保存数据："),a("code",[t._v("e.dataTransfer.setData( k, v )")])])]),t._v(" "),a("li",[a("p",[t._v("在拖动目标对象事件中使用 "),a("code",[t._v("e.dataTransfer")]),t._v(" 属性读取数据: "),a("code",[t._v("var value = e.dataTransfer.getData( k )")])])]),t._v(" "),a("li",[a("p",[t._v("Canvas 绘图")])]),t._v(" "),a("li",[a("p",[t._v("SVG")])]),t._v(" "),a("li",[a("p",[t._v("更多语义化的标签")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("hrader")]),t._v(" - 定义了文档的头部区域")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("footer")]),t._v(" - 定义了文档的尾部区域")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("nav")]),t._v(" - 定义文档的导航")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("section")]),t._v(" - 定义文档中的节（section、区段）")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("article")]),t._v(" - 定义页面独立的内容区域")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("aside")]),t._v(" - 定义页面的侧边栏内容")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("detailes")]),t._v(" - 用于描述文档或文档某个部分的细节")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("summary")]),t._v(" - 标签包含 details 元素的标题")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("dialog")]),t._v(" - 定义对话框，比如提示框")])])])]),t._v(" "),a("li",[a("p",[t._v("视频和音频")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("audio")]),t._v(" - 播放音频文件的标准")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("video")]),t._v(" - 播放视频文件的标准")])])])]),t._v(" "),a("li",[a("p",[t._v("增强型表单")]),t._v(" "),a("p",[t._v("HTML5 拥有多个新的表单 "),a("code",[t._v("input")]),t._v(" 输入类型。这些新特性提供了更好的输入控制和验证,具体略")])])]),t._v(" "),a("h2",{attrs:{id:"web-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-storage"}},[t._v("#")]),t._v(" Web Storage")]),t._v(" "),a("h3",{attrs:{id:"localstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#localstorage"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("localstorage"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("localstorage")]),t._v(" 允许将数据长期保留在计算机中，以键值对我形式进行存储")]),t._v(" "),a("h3",{attrs:{id:"用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("设置值："),a("code",[t._v("localStorage.setItem('myCat', 'Tom')")])])]),t._v(" "),a("li",[a("p",[t._v("读取值："),a("code",[t._v("localStorage.getItem('myCat')")])])]),t._v(" "),a("li",[a("p",[t._v("移除值："),a("code",[t._v("localStorage.removeItem('myCat')")])])]),t._v(" "),a("li",[a("p",[t._v("移除所有的 "),a("code",[t._v("localStorage")]),t._v(" 项: "),a("code",[t._v("localStorage.clear()")])])])]),t._v(" "),a("p",[t._v("注意点：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("只可访问当前源的本地空间的"),a("code",[t._v("localstorage")]),t._v("对象")])]),t._v(" "),a("li",[a("p",[t._v("存储的类型会自动转化为字符串类型")])])]),t._v(" "),a("h3",{attrs:{id:"监听localstorage变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#监听localstorage变化"}},[t._v("#")]),t._v(" 监听localStorage变化")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'storage'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.my-key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.my-old'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("oldValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.my-new'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("newValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.my-url'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.my-storage'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("storageArea"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("注意点")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("重复设置相同的键值不会触发该事件")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("Storage.clear()")]),t._v(" 方法至多触发一次该事件")])]),t._v(" "),a("li",[a("p",[t._v("在同一个页面内发生的改变不会起作用")])]),t._v(" "),a("li",[a("p",[t._v("在相同域名下的其他页面（如一个新标签或 iframe）发生的改变才会起作用")])]),t._v(" "),a("li",[a("p",[t._v("在其他域名下的页面不能访问相同的 Storage 对象")])])]),t._v(" "),a("p",[a("strong",[t._v("如何在同一页面中监听 "),a("code",[t._v("localStorage")]),t._v(" 的变化？")])]),t._v(" "),a("p",[t._v("通过重写 "),a("code",[t._v("localStorage")]),t._v(" 的 "),a("code",[t._v("setItem")]),t._v(" 方法实现监听 "),a("code",[t._v("localStorage")]),t._v(" 的变化，思路如下：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("新建一个事件，并且监这个事件")])]),t._v(" "),a("li",[a("p",[t._v("在"),a("code",[t._v("localStorage.setItem")]),t._v("方法中使用"),a("code",[t._v("window.dispatchEvent")]),t._v("触发事件")])])]),t._v(" "),a("p",[t._v("完整例子：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" orignalSetItem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setItem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("setItem")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("newValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" setItemEvent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"setItemEvent"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        setItemEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("newValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatchEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("setItemEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("orignalSetItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"setItemEvent"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("newValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wang"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"sessionstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sessionstorage"}},[t._v("#")]),t._v(" sessionStorage")]),t._v(" "),a("p",[a("code",[t._v("sessionStorage")]),t._v(" 和 "),a("code",[t._v("localstorage")]),t._v(" 类似，区别在于 "),a("code",[t._v("sessionStorage")]),t._v(" 存在周期仅限于会话期间且"),a("strong",[t._v("只有在同一浏览器的同一窗口下才能够共享")])]),t._v(" "),a("h3",{attrs:{id:"用法-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法-2"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("设置值："),a("code",[t._v("sessionStorage.setItem('myCat', 'Tom')")])])]),t._v(" "),a("li",[a("p",[t._v("读取值："),a("code",[t._v("sessionStorage.getItem('myCat')")])])]),t._v(" "),a("li",[a("p",[t._v("移除值："),a("code",[t._v("sessionStorage.removeItem('myCat')")])])]),t._v(" "),a("li",[a("p",[t._v("移除所有的 "),a("code",[t._v("sessionStorage")]),t._v(" 项: "),a("code",[t._v("sessionStorage.clear()")])])])]),t._v(" "),a("h2",{attrs:{id:"indexeddb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#indexeddb"}},[t._v("#")]),t._v(" IndexedDB")]),t._v(" "),a("p",[t._v("IndexedDB 具有以下特点：")]),t._v(" "),a("p",[a("strong",[t._v("键值对储存")])]),t._v(" "),a("p",[t._v('IndexedDB 内部采用对象仓库（object store）存放数据。所有类型的数据都可以直接存入，包括 JavaScript 对象。对象仓库中，数据以"键值对"的形式保存，每一个数据记录都有对应的主键，主键是独一无二的，不能有重复，否则会抛出一个错误')]),t._v(" "),a("p",[a("strong",[t._v("异步")])]),t._v(" "),a("p",[t._v("IndexedDB 操作时不会锁死浏览器，用户依然可以进行其他操作，这与 LocalStorage 形成对比，后者的操作是同步的。异步设计是为了防止大量数据的读写，拖慢网页的表现")]),t._v(" "),a("p",[a("strong",[t._v("支持事务")])]),t._v(" "),a("p",[t._v("IndexedDB 支持事务（transaction），这意味着一系列操作步骤之中，只要有一步失败，整个事务就都取消，数据库回滚到事务发生之前的状态，不存在只改写一部分数据的情况。")]),t._v(" "),a("p",[a("strong",[t._v("同源限制")])]),t._v(" "),a("p",[t._v("IndexedDB 受到同源限制，每一个数据库对应创建它的域名。网页只能访问自身域名下的数据库，而不能访问跨域的数据库。")]),t._v(" "),a("p",[a("strong",[t._v("储存空间大")])]),t._v(" "),a("p",[t._v("IndexedDB 的储存空间比 LocalStorage 大得多，一般来说不少于 250MB，甚至没有上限")]),t._v(" "),a("p",[a("strong",[t._v("支持二进制储存")])]),t._v(" "),a("p",[t._v("IndexedDB 不仅可以储存字符串，还可以储存二进制数据（ArrayBuffer 对象和 Blob 对象）。")]),t._v(" "),a("h2",{attrs:{id:"前端储存方式小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端储存方式小结"}},[t._v("#")]),t._v(" 前端储存方式小结")]),t._v(" "),a("p",[a("strong",[t._v("cookies：")]),t._v(" 在HTML5标准前本地储存的主要⽅式，优点是兼容性好，请求头⾃带 cookie ⽅便，缺点是⼤⼩只有 4k，⾃动请求头加⼊ cookie 浪费流量，每个 domain 限制20个cookie，使⽤起来麻烦，需要⾃⾏封装；")]),t._v(" "),a("p",[a("strong",[t._v("localStorage")]),t._v("：HTML5加⼊的以键值对(Key-Value)为标准的⽅式，优点是操作⽅便，永久性储存（除⾮⼿动删除），⼤⼩为5M，兼容IE8+ ；")]),t._v(" "),a("p",[a("strong",[t._v("sessionStorage：")]),t._v(" 与localStorage基本类似，区别是sessionStorage当⻚⾯关闭后会被清理，⽽且与cookie、localStorage不同，他不能在所有同源窗⼝中共享，是会话级别的储存⽅式；")]),t._v(" "),a("p",[a("strong",[t._v("IndexedDB：")]),t._v(" 是被正式纳⼊HTML5标准的数据库储存⽅案，它是NoSQL数据库，⽤键值对进⾏储存，可以进⾏快速读取操作，⾮常适合web场景，同时⽤JavaScript进⾏操作会⾮常便。")])])}),[],!1,null,null,null);s.default=e.exports}}]);