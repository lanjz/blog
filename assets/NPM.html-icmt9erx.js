import{_ as p,r as t,o as i,c as l,b as e,d as n,a,e as o}from"./app-lkvzo8Ck.js";const c={},r=e("h2",{id:"发布npm",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#发布npm","aria-hidden":"true"},"#"),n(" 发布npm")],-1),d=e("p",null,"步骤：",-1),u={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},m=e("code",null,"npm",-1),k=e("li",null,[e("p",null,[n("本地终端登录 "),e("code",null,"npm"),n(" 账号："),e("code",null,"npm login")])],-1),v=o(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Username: YOUR_USER_NAME
Password: YOUR_PASSWORD
Email: YOUR_EMAIL@domain.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><p>查看 <code>npm</code> 当前使用的用户：<code>npm whoami</code></p></li><li><p>创建 <code>npm</code> 包：<code>npm init packagename -y</code></p></li></ol><p><code>package.json</code> 中的字段</p><p>必需带有的字段</p><ul><li><p><code>name</code> :包名(全部小写，没有空格，可以使用下划线或者横线)</p></li><li><p><code>version</code> : 版本</p></li></ul><p>其他内容</p><ul><li><p><code>author</code> : 作者信息</p></li><li><p><code>main</code> : 程序入口文件，一般都是 <code>index.js</code></p></li><li><p><code>description</code> : 描述信息，有助于搜索</p></li><li><p><code>keywords[]</code>: 关键字，有助于在人们使用 <code>npm search</code> 搜索时发现你的项目</p></li></ul><p><code>scripts</code>: 支持的脚本，默认是一个空的 <code>test</code></p><ul><li><p><code>license</code> : 默认是 MIT</p></li><li><p><code>bugs</code> : 当前项目的一些错误信息，如果有的话</p></li><li><p><code>dependencies</code> : 在生产环境中需要用到的依赖</p></li><li><p><code>devDependencies</code>: 在开发、测试环境中用到的依赖</p></li><li><p>\`repository : 代码仓库</p></li></ul><ol start="5"><li>发布</li></ol><ul><li>将 <code>npm</code> 源切换为 <code>https://registry.npmjs.org/</code></li></ul><p><code>npm set registry https://registry.npmjs.org/</code></p><ul><li>发布：<code>npm publish</code></li></ul><h2 id="执行npm-publish时可以遇到的错误" tabindex="-1"><a class="header-anchor" href="#执行npm-publish时可以遇到的错误" aria-hidden="true">#</a> 执行<code>npm publish</code>时可以遇到的错误</h2><p><strong>提示 <code>is not in the npm registry</code></strong></p><ul><li><p>查看自己的 <code>npm</code> 是否使用了镜像，比如常用的淘宝镜像 <code>http://registry.npm.taobao.org/</code></p></li><li><p>我们需要切回原来的 <code>npm config set registry https://registry.npmjs.org/</code></p></li><li><p>重新执行 <code>npm adduser</code>、<code>npm publish</code></p></li></ul><p><strong>This package has been marked as private</strong></p><p>删除 <code>package.json</code> 文件的 <code>&quot;private&quot;: true</code></p><p><strong>you must verify your email before publishing a new package</strong></p><p><code>npm</code> 要求开发者提供了一个有效的电子邮件地址，并且在每次发布新的NPM包之前，需要验证你的电子邮件。</p><p>所以登录 <code>npm</code> 官网，验证一下自己的邮件地址</p>`,21),h={href:"https://github.com/lanjz/black-hook-ui",target:"_blank",rel:"noopener noreferrer"},b=e("h3",{id:"粟子",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#粟子","aria-hidden":"true"},"#"),n(" 粟子")],-1),g={href:"https://blog.csdn.net/cscscssjsp/article/details/82501745",target:"_blank",rel:"noopener noreferrer"},_=o(`<ol><li><p>通过 <code>vue init webpack-simple</code>，新建一个 <code>vue</code> 项目</p></li><li><p>在 <code>src</code> 目录下新一个 <code>lib</code> 文件夹，放置需要封装的 <code>vue</code> 组件</p></li><li><p>修改 <code>vue.deploy.config.js</code> 文件</p></li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
   <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/lib/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/dist/&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;black-hook-ui.min.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&#39;blackHookUI&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>修改 <code>packpack.json</code> 文件</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
 <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/dist/black-hook-ui.min.js&quot;</span><span class="token punctuation">,</span>
 <span class="token string-property property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;dist&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;src/lib&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li><p>执行 <code>yarn build</code> 命令生成 <code>dist</code> 目录</p></li><li><p><code>npm</code> 上传</p></li></ol>`,5);function y(f,j){const s=t("ExternalLinkIcon");return i(),l("div",null,[r,d,e("ol",null,[e("li",null,[e("p",null,[n("注册 "),e("a",u,[m,a(s)]),n(" 账号")])]),k]),v,e("p",null,[n("示例："),e("a",h,[n("black-hook-ui"),a(s)])]),b,e("blockquote",null,[e("p",null,[n("参数 "),e("a",g,[n("vue封装组件，类似elementUI组件库打包发布到npm上"),a(s)])])]),_])}const q=p(c,[["render",y],["__file","NPM.html.vue"]]);export{q as default};
